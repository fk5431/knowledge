!function(aD){function aO(h){var f,b,a,d=h.length-1,c="",g=h[0];if(d>0){for(c+=g,f=1;d>f;f++){a=h[f]+"",b=ah-a.length,b&&(c+=aP(b)),c+=a}g=h[f],a=g+"",b=ah-a.length,b&&(c+=aP(b))}else{if(0===g){return"0"}}for(;g%10===0;){g/=10}return c+g}function aK(c,b,a){if(c!==~~c||b>c||c>a){throw Error(aj+c)}}function aw(j,g,c,b){var f,d,h,a;for(d=j[0];d>=10;d/=10){--g}return --g<0?(g+=ah,f=0):(f=Math.ceil((g+1)/ah),g%=ah),d=bc(10,ah-g),a=j[f]%d|0,null==b?3>g?(0==g?a=a/100|0:1==g&&(a=a/10|0),h=4>c&&99999==a||c>3&&49999==a||50000==a||0==a):h=(4>c&&a+1==d||c>3&&a+1==d/2)&&(j[f+1]/d/100|0)==bc(10,g-2)-1||(a==d/2||0==a)&&0==(j[f+1]/d/100|0):4>g?(0==g?a=a/1000|0:1==g?a=a/100|0:2==g&&(a=a/10|0),h=(b||4>c)&&9999==a||!b&&c>3&&4999==a):h=((b||4>c)&&a+1==d||!b&&c>3&&a+1==d/2)&&(j[f+1]/d/1000|0)==bc(10,g-3)-1,h}function ay(j,g,c){for(var b,f,d=[0],h=0,a=j.length;a>h;){for(f=d.length;f--;){d[f]*=g}for(d[0]+=ag.indexOf(j.charAt(h++)),b=0;b<d.length;b++){d[b]>c-1&&(void 0===d[b+1]&&(d[b+1]=0),d[b+1]+=d[b]/c|0,d[b]%=c)}}return d.reverse()}function ax(h,f){var b,a,d=f.d.length;32>d?(b=Math.ceil(d/3),a=Math.pow(4,-b).toString()):(b=16,a="2.3283064365386962890625e-10"),h.precision+=b,f=bl(h,1,f.times(a),new h(1));for(var c=b;c--;){var g=f.times(f);f=g.times(g).minus(g).times(8).plus(1)}return h.precision-=b,f}function aC(j,v,m,A){var b,B,g,z,x,q,y,p,w,k=j.constructor;j:if(null!=v){if(p=j.d,!p){return j}for(b=1,z=p[0];z>=10;z/=10){b++}if(B=v-b,0>B){B+=ah,g=v,y=p[w=0],x=y/bc(10,b-g-1)%10|0}else{if(w=Math.ceil((B+1)/ah),z=p.length,w>=z){if(!A){break j}for(;z++<=w;){p.push(0)}y=x=0,b=1,B%=ah,g=B-ah+1}else{for(y=z=p[w],b=1;z>=10;z/=10){b++}B%=ah,g=B-ah+b,x=0>g?0:y/bc(10,b-g-1)%10|0}}if(A=A||0>v||void 0!==p[w+1]||(0>g?y:y%bc(10,b-g-1)),q=4>m?(x||A)&&(0==m||m==(j.s<0?3:2)):x>5||5==x&&(4==m||A||6==m&&(B>0?g>0?y/bc(10,b-g):0:p[w-1])%10&1||m==(j.s<0?8:7)),1>v||!p[0]){return p.length=0,q?(v-=j.e+1,p[0]=bc(10,(ah-v%ah)%ah),j.e=-v||0):p[0]=j.e=0,j}if(0==B?(p.length=w,z=1,w--):(p.length=w+1,z=bc(10,ah-B),p[w]=g>0?(y/bc(10,b-g)%bc(10,g)|0)*z:0),q){for(;;){if(0==w){for(B=1,g=p[0];g>=10;g/=10){B++}for(g=p[0]+=z,z=1;g>=10;g/=10){z++}B!=z&&(j.e++,p[0]==aH&&(p[0]=1));break}if(p[w]+=z,p[w]!=aH){break}p[w--]=0,z=1}}for(B=p.length;0===p[--B];){p.pop()}}return aU&&(j.e>k.maxE?(j.d=null,j.e=NaN):j.e<k.minE&&(j.e=0,j.d=[0])),j}function av(h,c,b){if(!h.isFinite()){return at(h)}var f,d=h.e,g=aO(h.d),a=g.length;return c?(b&&(f=b-a)>0?g=g.charAt(0)+"."+g.slice(1)+aP(f):a>1&&(g=g.charAt(0)+"."+g.slice(1)),g=g+(h.e<0?"e":"e+")+h.e):0>d?(g="0."+aP(-d-1)+g,b&&(f=b-a)>0&&(g+=aP(f))):d>=a?(g+=aP(d+1-a),b&&(f=b-d-1)>0&&(g=g+"."+aP(f))):((f=d+1)<a&&(g=g.slice(0,f)+"."+g.slice(f)),b&&(f=b-a)>0&&(d+1===a&&(g+="."),g+=aP(f))),g}function aQ(c,b){var a=c[0];for(b*=ah;a>=10;a/=10){b++}return b}function aN(c,b,a){if(b>bi){throw aU=!0,a&&(c.precision=a),Error(bD)}return aC(new c(bt),b,1,!0)}function aS(c,b,a){if(b>aa){throw Error(bD)}return aC(new c(al),b,a,!0)}function aL(c){var b=c.length-1,a=b*ah+1;if(b=c[b]){for(;b%10==0;b/=10){a--}for(b=c[0];b>=10;b/=10){a++}}return a}function aP(b){for(var a="";b--;){a+="0"}return a}function aF(h,f,b,a){var d,c=new h(1),g=Math.ceil(a/ah+4);for(aU=!1;;){if(b%2&&(c=c.times(f),az(c.d,g)&&(d=!0)),b=ae(b/2),0===b){b=c.d.length-1,d&&0===c.d[b]&&++c.d[b];break}f=f.times(f),az(f.d,g)}return aU=!0,c}function aB(a){return 1&a.d[a.d.length-1]}function aM(g,f,b){for(var a,d=new g(f[0]),c=0;++c<f.length;){if(a=new g(f[c]),!a.s){d=a;break}d[b](a)&&(d=a)}return d}function ar(k,v){var b,F,E,B,z,C,x,A=0,t=0,j=0,y=k.constructor,D=y.rounding,q=y.precision;if(!k.d||!k.d[0]||k.e>17){return new y(k.d?k.d[0]?k.s<0?0:1/0:1:k.s?k.s<0?0:k:NaN)}for(null==v?(aU=!1,x=q):x=v,C=new y(0.03125);k.e>-2;){k=k.times(C),j+=5}for(F=Math.log(bc(2,j))/Math.LN10*2+5|0,x+=F,b=B=z=new y(1),y.precision=x;;){if(B=aC(B.times(k),x,1),b=b.times(++t),C=z.plus(bF(B,b,x,1)),aO(C.d).slice(0,x)===aO(z.d).slice(0,x)){for(E=j;E--;){z=aC(z.times(z),x,1)}if(null!=v){return y.precision=q,z}if(!(3>A&&aw(z.d,x-F,D,A))){return aC(z,y.precision=q,D,aU=!0)}y.precision=x+=10,b=B=C=new y(1),t=0,A++}z=C}}function aE(F,H){var C,B,z,O,Q,I,L,G,D,J,q,t=1,f=10,P=F,m=P.d,A=P.constructor,j=A.rounding,k=A.precision;if(P.s<0||!m||!m[0]||!P.e&&1==m[0]&&1==m.length){return new A(m&&!m[0]?-1/0:1!=P.s?NaN:m?0:P)}if(null==H?(aU=!1,D=k):D=H,A.precision=D+=f,C=aO(m),B=C.charAt(0),!(Math.abs(O=P.e)<1500000000000000)){return G=aN(A,D+2,k).times(O+""),P=aE(new A(B+"."+C.slice(1)),D-f).plus(G),A.precision=k,null==H?aC(P,k,j,aU=!0):P}for(;7>B&&1!=B||1==B&&C.charAt(1)>3;){P=P.times(F),C=aO(P.d),B=C.charAt(0),t++}for(O=P.e,B>1?(P=new A("0."+C),O++):P=new A(B+"."+C.slice(1)),J=P,L=Q=P=bF(P.minus(1),P.plus(1),D,1),q=aC(P.times(P),D,1),z=3;;){if(Q=aC(Q.times(q),D,1),G=L.plus(bF(Q,new A(z),D,1)),aO(G.d).slice(0,D)===aO(L.d).slice(0,D)){if(L=L.times(2),0!==O&&(L=L.plus(aN(A,D+2,k).times(O+""))),L=bF(L,new A(t),D,1),null!=H){return A.precision=k,L}if(!aw(L.d,D-f,j,I)){return aC(L,A.precision=k,j,aU=!0)}A.precision=D+=f,G=Q=P=bF(J.minus(1),J.plus(1),D,1),q=aC(P.times(P),D,1),z=I=1}L=G,z+=2}}function at(a){return String(a.s*a.s/0)}function a9(f,d){var b,a,c;for((b=d.indexOf("."))>-1&&(d=d.replace(".","")),(a=d.search(/e/i))>0?(0>b&&(b=a),b+=+d.slice(a+1),d=d.substring(0,a)):0>b&&(b=d.length),a=0;48===d.charCodeAt(a);a++){}for(c=d.length;48===d.charCodeAt(c-1);--c){}if(d=d.slice(a,c)){if(c-=a,f.e=b=b-a-1,f.d=[],a=(b+1)%ah,0>b&&(a+=ah),c>a){for(a&&f.d.push(+d.slice(0,a)),c-=ah;c>a;){f.d.push(+d.slice(a,a+=ah))}d=d.slice(a),a=ah-d.length}else{a-=c}for(;a--;){d+="0"}f.d.push(+d),aU&&(f.e>f.constructor.maxE?(f.d=null,f.e=NaN):f.e<f.constructor.minE&&(f.e=0,f.d=[0]))}else{f.e=0,f.d=[0]}return f}function aR(c,l){var g,r,v,b,q,k,p,j,m;if("Infinity"===l||"NaN"===l){return +l||(c.s=NaN),c.e=NaN,c.d=null,c}if(bA.test(l)){g=16,l=l.toLowerCase()}else{if(ad.test(l)){g=2}else{if(!au.test(l)){throw Error(aj+l)}g=8}}for(b=l.search(/p/i),b>0?(p=+l.slice(b+1),l=l.substring(2,b)):l=l.slice(2),b=l.indexOf("."),q=b>=0,r=c.constructor,q&&(l=l.replace(".",""),k=l.length,b=k-b,v=aF(r,new r(g),b,2*b)),j=ay(l,g,aH),m=j.length-1,b=m;0===j[b];--b){j.pop()}return 0>b?new r(0*c.s):(c.e=aQ(j,m),c.d=j,aU=!1,q&&(c=bF(c,v,4*k)),p&&(c=c.times(Math.abs(p)<54?Math.pow(2,p):bv.pow(2,p))),aU=!0,c)}function aq(j,g){var c,b=g.d.length;if(3>b){return bl(j,2,g,g)}c=1.4*Math.sqrt(b),c=c>16?16:0|c,g=g.times(Math.pow(5,-c)),g=bl(j,2,g,g);for(var f,d=new j(5),h=new j(16),a=new j(20);c--;){f=g.times(g),g=g.times(d.plus(f.times(h.times(f).minus(a))))}return g}function bl(g,m,j,w,b){var x,d,v,p,l=1,q=g.precision,k=Math.ceil(q/ah);for(aU=!1,p=j.times(j),v=new g(w);;){if(d=bF(v.times(p),new g(m++*m++),q,1),v=b?w.plus(d):w.minus(d),w=bF(d.times(p),new g(m++*m++),q,1),d=v.plus(w),void 0!==d.d[k]){for(x=k;d.d[x]===v.d[x]&&x--;){}if(-1==x){break}}x=v,v=w,w=d,d=x,l++}return aU=!0,d.d.length=k+1,d}function bb(g,f){var b,a=f.s<0,d=aS(g,g.precision,1),c=d.times(0.5);if(f=f.abs(),f.lte(c)){return bB=a?4:1,f}if(b=f.divToInt(d),b.isZero()){bB=a?3:2}else{if(f=f.minus(b.times(d)),f.lte(c)){return bB=aB(b)?a?2:3:a?4:1,f}bB=aB(b)?a?1:4:a?3:2}return f.minus(d).abs()}function ap(j,x,C,D){var i,z,v,A,r,y,q,b,u,B=j.constructor,k=void 0!==C;if(k?(aK(C,1,bs),void 0===D?D=B.rounding:aK(D,0,8)):(C=B.precision,D=B.rounding),j.isFinite()){for(q=av(j),v=q.indexOf("."),k?(i=2,16==x?C=4*C-3:8==x&&(C=3*C-2)):i=x,v>=0&&(q=q.replace(".",""),u=new B(1),u.e=q.length-v,u.d=ay(av(u),10,i),u.e=u.d.length),b=ay(q,10,i),z=r=b.length;0==b[--r];){b.pop()}if(b[0]){if(0>v?z--:(j=new B(j),j.d=b,j.e=z,j=bF(j,u,C,D,0,i),b=j.d,z=j.e,y=aY),v=b[C],A=i/2,y=y||void 0!==b[C+1],y=4>D?(void 0!==v||y)&&(0===D||D===(j.s<0?3:2)):v>A||v===A&&(4===D||y||6===D&&1&b[C-1]||D===(j.s<0?8:7)),b.length=C,y){for(;++b[--C]>i-1;){b[C]=0,C||(++z,b.unshift(1))}}for(r=b.length;!b[r-1];--r){}for(v=0,q="";r>v;v++){q+=ag.charAt(b[v])}if(k){if(r>1){if(16==x||8==x){for(v=16==x?4:3,--r;r%v;r++){q+="0"}for(b=ay(q,i,x),r=b.length;!b[r-1];--r){}for(v=1,q="1.";r>v;v++){q+=ag.charAt(b[v])}}else{q=q.charAt(0)+"."+q.slice(1)}}q=q+(0>z?"p":"p+")+z}else{if(0>z){for(;++z;){q="0"+q}q="0."+q}else{if(++z>r){for(z-=r;z--;){q+="0"}}else{r>z&&(q=q.slice(0,z)+"."+q.slice(z))}}}}else{q=k?"0p+0":"0"}q=(16==x?"0x":2==x?"0b":8==x?"0o":"")+q}else{q=at(j)}return j.s<0?"-"+q:q}function az(b,a){return b.length>a?(b.length=a,!0):void 0}function a8(a){return new this(a).abs()}function bk(a){return new this(a).acos()}function bq(a){return new this(a).acosh()}function bm(b,a){return new this(b).plus(a)}function aV(a){return new this(a).asin()}function a7(a){return new this(a).asinh()}function a5(a){return new this(a).atan()}function bd(a){return new this(a).atanh()}function a1(g,f){g=new this(g),f=new this(f);var b,a=this.precision,d=this.rounding,c=a+4;return g.s&&f.s?g.d||f.d?!f.d||g.isZero()?(b=f.s<0?aS(this,a,d):new this(0),b.s=g.s):!g.d||f.isZero()?(b=aS(this,c,1).times(0.5),b.s=g.s):f.s<0?(this.precision=c,this.rounding=1,b=this.atan(bF(g,f,c,1)),f=aS(this,c,1),this.precision=a,this.rounding=d,b=g.s<0?b.minus(f):b.plus(f)):b=this.atan(bF(g,f,c,1)):(b=aS(this,c,1).times(f.s>0?0.25:0.75),b.s=g.s):b=new this(NaN),b}function aT(a){return new this(a).cbrt()}function aI(a){return aC(a=new this(a),a.e+1,2)}function a3(f){if(!f||"object"!=typeof f){throw Error(bE+"Object expected")}var d,b,a,c=["precision",1,bs,"rounding",0,8,"toExpNeg",-ak,0,"toExpPos",0,ak,"maxE",0,ak,"minE",-ak,0,"modulo",0,9];for(d=0;d<c.length;d+=3){if(void 0!==(a=f[b=c[d]])){if(!(ae(a)===a&&a>=c[d+1]&&a<=c[d+2])){throw Error(aj+b+": "+a)}this[b]=a}}if(void 0!==(a=f[b="crypto"])){if(a!==!0&&a!==!1&&0!==a&&1!==a){throw Error(aj+b+": "+a)}if(a){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes){throw Error(bw)}this[b]=!0}else{this[b]=!1}}return this}function a2(a){return new this(a).cos()}function bo(a){return new this(a).cosh()}function bg(f){function d(l){var h,g,k,j=this;if(!(j instanceof d)){return new d(l)}if(j.constructor=d,l instanceof d){return j.s=l.s,j.e=l.e,void (j.d=(l=l.d)?l.slice():l)}if(k=typeof l,"number"===k){if(0===l){return j.s=0>1/l?-1:1,j.e=0,void (j.d=[0])}if(0>l?(l=-l,j.s=-1):j.s=1,l===~~l&&10000000>l){for(h=0,g=l;g>=10;g/=10){h++}return j.e=h,void (j.d=[l])}return 0*l!==0?(l||(j.s=NaN),j.e=NaN,void (j.d=null)):a9(j,l.toString())}if("string"!==k){throw Error(aj+l)}return 45===l.charCodeAt(0)?(l=l.slice(1),j.s=-1):j.s=1,by.test(l)?a9(j,l):aR(j,l)}var b,a,c;if(d.prototype=ac,d.ROUND_UP=0,d.ROUND_DOWN=1,d.ROUND_CEIL=2,d.ROUND_FLOOR=3,d.ROUND_HALF_UP=4,d.ROUND_HALF_DOWN=5,d.ROUND_HALF_EVEN=6,d.ROUND_HALF_CEIL=7,d.ROUND_HALF_FLOOR=8,d.EUCLID=9,d.config=d.set=a3,d.clone=bg,d.abs=a8,d.acos=bk,d.acosh=bq,d.add=bm,d.asin=aV,d.asinh=a7,d.atan=a5,d.atanh=bd,d.atan2=a1,d.cbrt=aT,d.ceil=aI,d.cos=a2,d.cosh=bo,d.div=bh,d.exp=bp,d.floor=a0,d.hypot=bx,d.ln=aJ,d.log=aZ,d.log10=ao,d.log2=bf,d.max=bj,d.min=be,d.mod=a6,d.mul=aX,d.pow=aW,d.random=a4,d.round=ab,d.sign=ba,d.sin=bC,d.sinh=bu,d.sqrt=aA,d.sub=aG,d.tan=am,d.tanh=bz,d.trunc=br,void 0===f&&(f={}),f){for(c=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],b=0;b<c.length;){f.hasOwnProperty(a=c[b++])||(f[a]=this[a])}}return d.config(f),d}function bh(b,a){return new this(b).div(a)}function bp(a){return new this(a).exp()}function a0(a){return aC(a=new this(a),a.e+1,3)}function bx(){var c,b,a=new this(0);for(aU=!1,c=0;c<arguments.length;){if(b=new this(arguments[c++]),b.d){a.d&&(a=a.plus(b.times(b)))}else{if(b.s){return aU=!0,new this(1/0)}a=b}}return aU=!0,a.sqrt()}function aJ(a){return new this(a).ln()}function aZ(b,a){return new this(b).log(a)}function bf(a){return new this(a).log(2)}function ao(a){return new this(a).log(10)}function bj(){return aM(this,arguments,"lt")}function be(){return aM(this,arguments,"gt")}function a6(b,a){return new this(b).mod(a)}function aX(b,a){return new this(b).mul(a)}function aW(b,a){return new this(b).pow(a)}function a4(j){var g,b,f,d,h=0,a=new this(1),i=[];if(void 0===j?j=this.precision:aK(j,1,bs),f=Math.ceil(j/ah),this.crypto){if(crypto.getRandomValues){for(g=crypto.getRandomValues(new Uint32Array(f));f>h;){d=g[h],d>=4290000000?g[h]=crypto.getRandomValues(new Uint32Array(1))[0]:i[h++]=d%10000000}}else{if(!crypto.randomBytes){throw Error(bw)}for(g=crypto.randomBytes(f*=4);f>h;){d=g[h]+(g[h+1]<<8)+(g[h+2]<<16)+((127&g[h+3])<<24),d>=2140000000?crypto.randomBytes(4).copy(g,h):(i.push(d%10000000),h+=4)}h=f/4}}else{for(;f>h;){i[h++]=10000000*Math.random()|0}}for(f=i[--h],j%=ah,f&&j&&(d=bc(10,ah-j),i[h]=(f/d|0)*d);0===i[h];h--){i.pop()}if(0>h){b=0,i=[0]}else{for(b=-1;0===i[0];b-=ah){i.shift()}for(f=1,d=i[0];d>=10;d/=10){f++}ah>f&&(b-=ah-f)}return a.e=b,a.d=i,a}function ab(a){return aC(a=new this(a),a.e+1,this.rounding)}function ba(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function bC(a){return new this(a).sin()}function bu(a){return new this(a).sinh()}function aA(a){return new this(a).sqrt()}function aG(b,a){return new this(b).sub(a)}function am(a){return new this(a).tan()}function bz(a){return new this(a).tanh()}function br(a){return aC(a=new this(a),a.e+1,1)}var aY,ai,bB,ak=9000000000000000,bs=1000000000,ag="0123456789abcdef",bt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",al="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bv={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ak,maxE:ak,crypto:!1},aU=!0,bE="[DecimalError] ",aj=bE+"Invalid argument: ",bD=bE+"Precision limit exceeded",bw=bE+"crypto unavailable",ae=Math.floor,bc=Math.pow,ad=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,bA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,au=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,by=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,aH=10000000,ah=7,af=9007199254740991,bi=bt.length-1,aa=al.length-1,ac={};ac.absoluteValue=ac.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),aC(a)},ac.ceil=function(){return aC(new this.constructor(this),this.e+1,2)},ac.comparedTo=ac.cmp=function(d){var j,g,m,a,p=this,b=p.d,l=(d=new p.constructor(d)).d,k=p.s,h=d.s;if(!b||!l){return k&&h?k!==h?k:b===l?0:!b^0>k?1:-1:NaN}if(!b[0]||!l[0]){return b[0]?k:l[0]?-h:0}if(k!==h){return k}if(p.e!==d.e){return p.e>d.e^0>k?1:-1}for(m=b.length,a=l.length,j=0,g=a>m?m:a;g>j;++j){if(b[j]!==l[j]){return b[j]>l[j]^0>k?1:-1}}return m===a?0:m>a^0>k?1:-1},ac.cosine=ac.cos=function(){var d,c,b=this,a=b.constructor;return b.d?b.d[0]?(d=a.precision,c=a.rounding,a.precision=d+Math.max(b.e,b.sd())+ah,a.rounding=1,b=ax(a,bb(a,b)),a.precision=d,a.rounding=c,aC(2==bB||3==bB?b.neg():b,d,c,!0)):new a(1):new a(NaN)},ac.cubeRoot=ac.cbrt=function(){var g,k,y,b,z,x,v,p,w,m,q=this,j=q.constructor;if(!q.isFinite()||q.isZero()){return new j(q)}for(aU=!1,x=q.s*Math.pow(q.s*q,1/3),x&&Math.abs(x)!=1/0?b=new j(x.toString()):(y=aO(q.d),g=q.e,(x=(g-y.length+1)%3)&&(y+=1==x||-2==x?"0":"00"),x=Math.pow(y,1/3),g=ae((g+1)/3)-(g%3==(0>g?-1:2)),x==1/0?y="5e"+g:(y=x.toExponential(),y=y.slice(0,y.indexOf("e")+1)+g),b=new j(y),b.s=q.s),v=(g=j.precision)+3;;){if(p=b,w=p.times(p).times(p),m=w.plus(q),b=bF(m.plus(q).times(p),m.plus(w),v+2,1),aO(p.d).slice(0,v)===(y=aO(b.d)).slice(0,v)){if(y=y.slice(v-3,v+1),"9999"!=y&&(z||"4999"!=y)){(!+y||!+y.slice(1)&&"5"==y.charAt(0))&&(aC(b,g+1,1),k=!b.times(b).times(b).eq(q));break}if(!z&&(aC(p,g+1,0),p.times(p).times(p).eq(q))){b=p;break}v+=4,z=1}}return aU=!0,aC(b,g,j.rounding,k)},ac.decimalPlaces=ac.dp=function(){var c,b=this.d,a=NaN;if(b){if(c=b.length-1,a=(c-ae(this.e/ah))*ah,c=b[c]){for(;c%10==0;c/=10){a--}}0>a&&(a=0)}return a},ac.dividedBy=ac.div=function(a){return bF(this,new this.constructor(a))},ac.dividedToIntegerBy=ac.divToInt=function(c){var b=this,a=b.constructor;return aC(bF(b,new a(c),0,1,1),a.precision,a.rounding)},ac.equals=ac.eq=function(a){return 0===this.cmp(a)},ac.floor=function(){return aC(new this.constructor(this),this.e+1,3)},ac.greaterThan=ac.gt=function(a){return this.cmp(a)>0},ac.greaterThanOrEqualTo=ac.gte=function(b){var a=this.cmp(b);return 1==a||0===a},ac.hyperbolicCosine=ac.cosh=function(){var d,l,g,v,b,w=this,q=w.constructor,m=new q(1);if(!w.isFinite()){return new q(w.s?1/0:NaN)}if(w.isZero()){return m}g=q.precision,v=q.rounding,q.precision=g+Math.max(w.e,w.sd())+4,q.rounding=1,b=w.d.length,32>b?(d=Math.ceil(b/3),l=Math.pow(4,-d).toString()):(d=16,l="2.3283064365386962890625e-10"),w=bl(q,1,w.times(l),new q(1),!0);for(var k,p=d,j=new q(8);p--;){k=w.times(w),w=m.minus(k.times(j.minus(k.times(j))))}return aC(w,q.precision=g,q.rounding=v,!0)},ac.hyperbolicSine=ac.sinh=function(){var d,j,g,p,b=this,q=b.constructor;if(!b.isFinite()||b.isZero()){return new q(b)}if(j=q.precision,g=q.rounding,q.precision=j+Math.max(b.e,b.sd())+4,q.rounding=1,p=b.d.length,3>p){b=bl(q,2,b,b,!0)}else{d=1.4*Math.sqrt(p),d=d>16?16:0|d,b=b.times(Math.pow(5,-d)),b=bl(q,2,b,b,!0);for(var m,k=new q(5),h=new q(16),l=new q(20);d--;){m=b.times(b),b=b.times(k.plus(m.times(h.times(m).plus(l))))}}return q.precision=j,q.rounding=g,aC(b,j,g,!0)},ac.hyperbolicTangent=ac.tanh=function(){var d,c,b=this,a=b.constructor;return b.isFinite()?b.isZero()?new a(b):(d=a.precision,c=a.rounding,a.precision=d+7,a.rounding=1,bF(b.sinh(),b.cosh(),a.precision=d,a.rounding=c)):new a(b.s)},ac.inverseCosine=ac.acos=function(){var g,f=this,b=f.constructor,a=f.abs().cmp(1),d=b.precision,c=b.rounding;return -1!==a?0===a?f.isNeg()?aS(b,d,c):new b(0):new b(NaN):f.isZero()?aS(b,d+4,c).times(0.5):(b.precision=d+6,b.rounding=1,f=f.asin(),g=aS(b,d+4,c).times(0.5),b.precision=d,b.rounding=c,g.minus(f))},ac.inverseHyperbolicCosine=ac.acosh=function(){var d,c,b=this,a=b.constructor;return b.lte(1)?new a(b.eq(1)?0:NaN):b.isFinite()?(d=a.precision,c=a.rounding,a.precision=d+Math.max(Math.abs(b.e),b.sd())+4,a.rounding=1,aU=!1,b=b.times(b).minus(1).sqrt().plus(b),aU=!0,a.precision=d,a.rounding=c,b.ln()):new a(b)},ac.inverseHyperbolicSine=ac.asinh=function(){var d,c,b=this,a=b.constructor;return !b.isFinite()||b.isZero()?new a(b):(d=a.precision,c=a.rounding,a.precision=d+2*Math.max(Math.abs(b.e),b.sd())+6,a.rounding=1,aU=!1,b=b.times(b).plus(1).sqrt().plus(b),aU=!0,a.precision=d,a.rounding=c,b.ln())},ac.inverseHyperbolicTangent=ac.atanh=function(){var g,f,b,a,d=this,c=d.constructor;return d.isFinite()?d.e>=0?new c(d.abs().eq(1)?d.s/0:d.isZero()?d:NaN):(g=c.precision,f=c.rounding,a=d.sd(),Math.max(a,g)<2*-d.e-1?aC(new c(d),g,f,!0):(c.precision=b=a-d.e,d=bF(d.plus(1),new c(1).minus(d),b+g,1),c.precision=g+4,c.rounding=1,d=d.ln(),c.precision=g,c.rounding=f,d.times(0.5))):new c(NaN)},ac.inverseSine=ac.asin=function(){var g,f,b,a,d=this,c=d.constructor;return d.isZero()?new c(d):(f=d.abs().cmp(1),b=c.precision,a=c.rounding,-1!==f?0===f?(g=aS(c,b+4,a).times(0.5),g.s=d.s,g):new c(NaN):(c.precision=b+6,c.rounding=1,d=d.div(new c(1).minus(d.times(d)).sqrt().plus(1)).atan(),c.precision=b,c.rounding=a,d.times(2)))},ac.inverseTangent=ac.atan=function(){var g,v,k,z,a,A,y,x,q,m=this,w=m.constructor,j=w.precision,b=w.rounding;if(m.isFinite()){if(m.isZero()){return new w(m)}if(m.abs().eq(1)&&aa>=j+4){return y=aS(w,j+4,b).times(0.25),y.s=m.s,y}}else{if(!m.s){return new w(NaN)}if(aa>=j+4){return y=aS(w,j+4,b).times(0.5),y.s=m.s,y}}for(w.precision=x=j+10,w.rounding=1,k=Math.min(28,x/ah+2|0),g=k;g;--g){m=m.div(m.times(m).plus(1).sqrt().plus(1))}for(aU=!1,v=Math.ceil(x/ah),z=1,q=m.times(m),y=new w(m),a=m;-1!==g;){if(a=a.times(q),A=y.minus(a.div(z+=2)),a=a.times(q),y=A.plus(a.div(z+=2)),void 0!==y.d[v]){for(g=v;y.d[g]===A.d[g]&&g--;){}}}return k&&(y=y.times(2<<k-1)),aU=!0,aC(y,w.precision=j,w.rounding=b,!0)},ac.isFinite=function(){return !!this.d},ac.isInteger=ac.isInt=function(){return !!this.d&&ae(this.e/ah)>this.d.length-2},ac.isNaN=function(){return !this.s},ac.isNegative=ac.isNeg=function(){return this.s<0},ac.isPositive=ac.isPos=function(){return this.s>0},ac.isZero=function(){return !!this.d&&0===this.d[0]},ac.lessThan=ac.lt=function(a){return this.cmp(a)<0},ac.lessThanOrEqualTo=ac.lte=function(a){return this.cmp(a)<1},ac.logarithm=ac.log=function(j){var m,b,D,C,y,z,q,x,k=this,f=k.constructor,t=f.precision,A=f.rounding,B=5;if(null==j){j=new f(10),m=!0}else{if(j=new f(j),b=j.d,j.s<0||!b||!b[0]||j.eq(1)){return new f(NaN)}m=j.eq(10)}if(b=k.d,k.s<0||!b||!b[0]||k.eq(1)){return new f(b&&!b[0]?-1/0:1!=k.s?NaN:b?0:1/0)}if(m){if(b.length>1){y=!0}else{for(C=b[0];C%10===0;){C/=10}y=1!==C}}if(aU=!1,q=t+B,z=aE(k,q),D=m?aN(f,q+10):aE(j,q),x=bF(z,D,q,1),aw(x.d,C=t,A)){do{if(q+=10,z=aE(k,q),D=m?aN(f,q+10):aE(j,q),x=bF(z,D,q,1),!y){+aO(x.d).slice(C+1,C+15)+1==100000000000000&&(x=aC(x,t+1,0));break}}while(aw(x.d,C+=10,A))}return aU=!0,aC(x,t,A)},ac.minus=ac.sub=function(j){var y,m,D,b,E,C,x,A,q,z,k,c,v=this,B=v.constructor;if(j=new B(j),!v.d||!j.d){return v.s&&j.s?v.d?j.s=-j.s:j=new B(j.d||v.s!==j.s?v:NaN):j=new B(NaN),j}if(v.s!=j.s){return j.s=-j.s,v.plus(j)}if(q=v.d,c=j.d,x=B.precision,A=B.rounding,!q[0]||!c[0]){if(c[0]){j.s=-j.s}else{if(!q[0]){return new B(3===A?-0:0)}j=new B(v)}return aU?aC(j,x,A):j}if(m=ae(j.e/ah),z=ae(v.e/ah),q=q.slice(),E=z-m){for(k=0>E,k?(y=q,E=-E,C=c.length):(y=c,m=z,C=q.length),D=Math.max(Math.ceil(x/ah),C)+2,E>D&&(E=D,y.length=1),y.reverse(),D=E;D--;){y.push(0)}y.reverse()}else{for(D=q.length,C=c.length,k=C>D,k&&(C=D),D=0;C>D;D++){if(q[D]!=c[D]){k=q[D]<c[D];break}}E=0}for(k&&(y=q,q=c,c=y,j.s=-j.s),C=q.length,D=c.length-C;D>0;--D){q[C++]=0}for(D=c.length;D>E;){if(q[--D]<c[D]){for(b=D;b&&0===q[--b];){q[b]=aH-1}--q[b],q[D]+=aH}q[D]-=c[D]}for(;0===q[--C];){q.pop()}for(;0===q[0];q.shift()){--m}return q[0]?(j.d=q,j.e=aQ(q,m),aU?aC(j,x,A):j):new B(3===A?-0:0)},ac.modulo=ac.mod=function(d){var c,b=this,a=b.constructor;return d=new a(d),!b.d||!d.s||d.d&&!d.d[0]?new a(NaN):!d.d||b.d&&!b.d[0]?aC(new a(b),a.precision,a.rounding):(aU=!1,9==a.modulo?(c=bF(b,d.abs(),0,3,1),c.s*=d.s):c=bF(b,d,0,a.modulo,1),c=c.times(d),aU=!0,b.minus(c))},ac.naturalExponential=ac.exp=function(){return ar(this)},ac.naturalLogarithm=ac.ln=function(){return aE(this)},ac.negated=ac.neg=function(){var a=new this.constructor(this);return a.s=-a.s,aC(a)},ac.plus=ac.add=function(g){var v,k,z,b,A,y,q,x,m,w,j=this,c=j.constructor;if(g=new c(g),!j.d||!g.d){return j.s&&g.s?j.d||(g=new c(g.d||j.s===g.s?j:NaN)):g=new c(NaN),g}if(j.s!=g.s){return g.s=-g.s,j.minus(g)}if(m=j.d,w=g.d,q=c.precision,x=c.rounding,!m[0]||!w[0]){return w[0]||(g=new c(j)),aU?aC(g,q,x):g}if(A=ae(j.e/ah),z=ae(g.e/ah),m=m.slice(),b=A-z){for(0>b?(k=m,b=-b,y=w.length):(k=w,z=A,y=m.length),A=Math.ceil(q/ah),y=A>y?A+1:y+1,b>y&&(b=y,k.length=1),k.reverse();b--;){k.push(0)}k.reverse()}for(y=m.length,b=w.length,0>y-b&&(b=y,k=w,w=m,m=k),v=0;b;){v=(m[--b]=m[b]+w[b]+v)/aH|0,m[b]%=aH}for(v&&(m.unshift(v),++z),y=m.length;0==m[--y];){m.pop()}return g.d=m,g.e=aQ(m,z),aU?aC(g,q,x):g},ac.precision=ac.sd=function(c){var b,a=this;if(void 0!==c&&c!==!!c&&1!==c&&0!==c){throw Error(aj+c)}return a.d?(b=aL(a.d),c&&a.e+1>b&&(b=a.e+1)):b=NaN,b},ac.round=function(){var b=this,a=b.constructor;return aC(new a(b),b.e+1,a.rounding)},ac.sine=ac.sin=function(){var d,c,b=this,a=b.constructor;return b.isFinite()?b.isZero()?new a(b):(d=a.precision,c=a.rounding,a.precision=d+Math.max(b.e,b.sd())+ah,a.rounding=1,b=aq(a,bb(a,b)),a.precision=d,a.rounding=c,aC(bB>2?b.neg():b,d,c,!0)):new a(NaN)},ac.squareRoot=ac.sqrt=function(){var g,j,w,b,x,v,p=this,l=p.d,q=p.e,k=p.s,m=p.constructor;if(1!==k||!l||!l[0]){return new m(!k||0>k&&(!l||l[0])?NaN:l?p:1/0)}for(aU=!1,k=Math.sqrt(+p),0==k||k==1/0?(j=aO(l),(j.length+q)%2==0&&(j+="0"),k=Math.sqrt(j),q=ae((q+1)/2)-(0>q||q%2),k==1/0?j="1e"+q:(j=k.toExponential(),j=j.slice(0,j.indexOf("e")+1)+q),b=new m(j)):b=new m(k.toString()),w=(q=m.precision)+3;;){if(v=b,b=v.plus(bF(p,v,w+2,1)).times(0.5),aO(v.d).slice(0,w)===(j=aO(b.d)).slice(0,w)){if(j=j.slice(w-3,w+1),"9999"!=j&&(x||"4999"!=j)){(!+j||!+j.slice(1)&&"5"==j.charAt(0))&&(aC(b,q+1,1),g=!b.times(b).eq(p));break}if(!x&&(aC(v,q+1,0),v.times(v).eq(p))){b=v;break}w+=4,x=1}}return aU=!0,aC(b,q,m.rounding,g)},ac.tangent=ac.tan=function(){var d,c,b=this,a=b.constructor;return b.isFinite()?b.isZero()?new a(b):(d=a.precision,c=a.rounding,a.precision=d+10,a.rounding=1,b=b.sin(),b.s=1,b=bF(b,new a(1).minus(b.times(b)).sqrt(),d+10,0),a.precision=d,a.rounding=c,aC(2==bB||4==bB?b.neg():b,d,c,!0)):new a(NaN)},ac.times=ac.mul=function(j){var x,m,B,b,C,A,w,z,q,y=this,k=y.constructor,c=y.d,v=(j=new k(j)).d;if(j.s*=y.s,!(c&&c[0]&&v&&v[0])){return new k(!j.s||c&&!c[0]&&!v||v&&!v[0]&&!c?NaN:c&&v?0*j.s:j.s/0)}for(m=ae(y.e/ah)+ae(j.e/ah),z=c.length,q=v.length,q>z&&(C=c,c=v,v=C,A=z,z=q,q=A),C=[],A=z+q,B=A;B--;){C.push(0)}for(B=q;--B>=0;){for(x=0,b=z+B;b>B;){w=C[b]+v[B]*c[b-B-1]+x,C[b--]=w%aH|0,x=w/aH|0}C[b]=(C[b]+x)%aH|0}for(;!C[--A];){C.pop()}return x?++m:C.shift(),j.d=C,j.e=aQ(C,m),aU?aC(j,k.precision,k.rounding):j},ac.toBinary=function(b,a){return ap(this,2,b,a)},ac.toDecimalPlaces=ac.toDP=function(d,c){var a=this,b=a.constructor;return a=new b(a),void 0===d?a:(aK(d,0,bs),void 0===c?c=b.rounding:aK(c,0,8),aC(a,d+a.e+1,c))},ac.toExponential=function(f,d){var a,c=this,b=c.constructor;return void 0===f?a=av(c,!0):(aK(f,0,bs),void 0===d?d=b.rounding:aK(d,0,8),c=aC(new b(c),f+1,d),a=av(c,!0,f+1)),c.isNeg()&&!c.isZero()?"-"+a:a},ac.toFixed=function(h,f){var a,d,b=this,g=b.constructor;return void 0===h?a=av(b):(aK(h,0,bs),void 0===f?f=g.rounding:aK(f,0,8),d=aC(new g(b),h+b.e+1,f),a=av(d,!1,h+d.e+1)),b.isNeg()&&!b.isZero()?"-"+a:a},ac.toFraction=function(k){var x,F,b,G,j,E,B,z,C,A,v,h,y=this,D=y.d,q=y.constructor;if(!D){return new q(y)}if(C=F=new q(1),b=z=new q(0),x=new q(b),j=x.e=aL(D)-y.e-1,E=j%ah,x.d[0]=bc(10,0>E?ah+E:E),null==k){k=j>0?x:C}else{if(B=new q(k),!B.isInt()||B.lt(C)){throw Error(aj+B)}k=B.gt(x)?j>0?x:C:B}for(aU=!1,B=new q(aO(D)),A=q.precision,q.precision=j=D.length*ah*2;v=bF(B,x,0,1,1),G=F.plus(v.times(b)),1!=G.cmp(k);){F=b,b=G,G=C,C=z.plus(v.times(G)),z=G,G=x,x=B.minus(v.times(G)),B=G}return G=bF(k.minus(F),b,0,1,1),z=z.plus(G.times(C)),F=F.plus(G.times(b)),z.s=C.s=y.s,h=bF(C,b,j,1).minus(y).abs().cmp(bF(z,F,j,1).minus(y).abs())<1?[C,b]:[z,F],q.precision=A,aU=!0,h},ac.toHexadecimal=ac.toHex=function(b,a){return ap(this,16,b,a)},ac.toNearest=function(d,c){var a=this,b=a.constructor;if(a=new b(a),null==d){if(!a.d){return a}d=new b(1),c=b.rounding}else{if(d=new b(d),void 0!==c&&aK(c,0,8),!a.d){return d.s?a:d}if(!d.d){return d.s&&(d.s=a.s),d}}return d.d[0]?(aU=!1,4>c&&(c=[4,5,7,8][c]),a=bF(a,d,0,c,1).times(d),aU=!0,aC(a)):(d.s=a.s,a=d),a},ac.toNumber=function(){return +this},ac.toOctal=function(b,a){return ap(this,8,b,a)},ac.toPower=ac.pow=function(j){var k,b,x,w,t,m,v,l=this,q=l.constructor,g=+(j=new q(j));if(!(l.d&&j.d&&l.d[0]&&j.d[0])){return new q(bc(+l,g))}if(l=new q(l),l.eq(1)){return l}if(x=q.precision,t=q.rounding,j.eq(1)){return aC(l,x,t)}if(k=ae(j.e/ah),b=j.d.length-1,v=k>=b,m=l.s,v){if((b=0>g?-g:g)<=af){return w=aF(q,l,b,x),j.s<0?new q(1).div(w):aC(w,x,t)}}else{if(0>m){return new q(NaN)}}return m=0>m&&1&j.d[Math.max(k,b)]?-1:1,b=bc(+l,g),k=0!=b&&isFinite(b)?new q(b+"").e:ae(g*(Math.log("0."+aO(l.d))/Math.LN10+l.e+1)),k>q.maxE+1||k<q.minE-1?new q(k>0?m/0:0):(aU=!1,q.rounding=l.s=1,b=Math.min(12,(k+"").length),w=ar(j.times(aE(l,x+b)),x),w=aC(w,x+5,1),aw(w.d,x,t)&&(k=x+10,w=aC(ar(j.times(aE(l,k+b)),k),k+5,1),+aO(w.d).slice(x+1,x+15)+1==100000000000000&&(w=aC(w,x+1,0))),w.s=m,aU=!0,q.rounding=t,aC(w,x,t))},ac.toPrecision=function(f,d){var a,c=this,b=c.constructor;return void 0===f?a=av(c,c.e<=b.toExpNeg||c.e>=b.toExpPos):(aK(f,1,bs),void 0===d?d=b.rounding:aK(d,0,8),c=aC(new b(c),f,d),a=av(c,f<=c.e||c.e<=b.toExpNeg,f)),c.isNeg()&&!c.isZero()?"-"+a:a},ac.toSignificantDigits=ac.toSD=function(d,c){var a=this,b=a.constructor;return void 0===d?(d=b.precision,c=b.rounding):(aK(d,1,bs),void 0===c?c=b.rounding:aK(c,0,8)),aC(new b(a),d,c)},ac.toString=function(){var c=this,b=c.constructor,a=av(c,c.e<=b.toExpNeg||c.e>=b.toExpPos);return c.isNeg()&&!c.isZero()?"-"+a:a},ac.truncated=ac.trunc=function(){return aC(new this.constructor(this),this.e+1,1)},ac.valueOf=ac.toJSON=function(){var c=this,b=c.constructor,a=av(c,c.e<=b.toExpNeg||c.e>=b.toExpPos);return c.isNeg()?"-"+a:a};var bF=function(){function c(k,j,f){var d,h=0,g=k.length;for(k=k.slice();g--;){d=k[g]*j+h,k[g]=d%f|0,h=d/f|0}return h&&k.unshift(h),k}function b(k,j,f,d){var h,g;if(f!=d){g=f>d?1:-1}else{for(h=g=0;f>h;h++){if(k[h]!=j[h]){g=k[h]>j[h]?1:-1;break}}}return g}function a(j,h,f,d){for(var g=0;f--;){j[f]-=g,g=j[f]<h[f]?1:0,j[f]=g*d+j[f]-h[f]}for(;!j[0]&&j.length>1;){j.shift()}}return function(U,X,W,S,bM,bK){var bO,bI,bL,bH,bn,bJ,I,bG,J,z,bN,H,T,B,G,Y,n,Q,an,V,i=U.constructor,k=U.s==X.s?1:-1,j=U.d,C=X.d;if(!(j&&j[0]&&C&&C[0])){return new i(U.s&&X.s&&(j?!C||j[0]!=C[0]:C)?j&&0==j[0]||!C?0*k:k/0:NaN)}for(bK?(bn=1,bI=U.e-X.e):(bK=aH,bn=ah,bI=ae(U.e/bn)-ae(X.e/bn)),an=C.length,n=j.length,J=new i(k),z=J.d=[],bL=0;C[bL]==(j[bL]||0);bL++){}if(C[bL]>(j[bL]||0)&&bI--,null==W?(B=W=i.precision,S=i.rounding):B=bM?W+(U.e-X.e)+1:W,0>B){z.push(1),bJ=!0}else{if(B=B/bn+2|0,bL=0,1==an){for(bH=0,C=C[0],B++;(n>bL||bH)&&B--;bL++){G=bH*bK+(j[bL]||0),z[bL]=G/C|0,bH=G%C|0}bJ=bH||n>bL}else{for(bH=bK/(C[0]+1)|0,bH>1&&(C=c(C,bH,bK),j=c(j,bH,bK),an=C.length,n=j.length),Y=an,bN=j.slice(0,an),H=bN.length;an>H;){bN[H++]=0}V=C.slice(),V.unshift(0),Q=C[0],C[1]>=bK/2&&++Q;do{bH=0,bO=b(C,bN,an,H),0>bO?(T=bN[0],an!=H&&(T=T*bK+(bN[1]||0)),bH=T/Q|0,bH>1?(bH>=bK&&(bH=bK-1),I=c(C,bH,bK),bG=I.length,H=bN.length,bO=b(I,bN,bG,H),1==bO&&(bH--,a(I,bG>an?V:C,bG,bK))):(0==bH&&(bO=bH=1),I=C.slice()),bG=I.length,H>bG&&I.unshift(0),a(bN,I,H,bK),-1==bO&&(H=bN.length,bO=b(C,bN,an,H),1>bO&&(bH++,a(bN,H>an?V:C,H,bK))),H=bN.length):0===bO&&(bH++,bN=[0]),z[bL++]=bH,bO&&bN[0]?bN[H++]=j[Y]||0:(bN=[j[Y]],H=1)}while((Y++<n||void 0!==bN[0])&&B--);bJ=void 0!==bN[0]}z[0]||z.shift()}if(1==bn){J.e=bI,aY=bJ}else{for(bL=1,bH=z[0];bH>=10;bH/=10){bL++}J.e=bL+bI*bn-1,aC(J,bM?W+J.e+1:W,S,bJ)}return J}}();bv=bg(bv),bt=new bv(bt),al=new bv(al),"function"==typeof define&&define.amd?define(function(){return bv}):"undefined"!=typeof module&&module.exports?module.exports=bv["default"]=bv.Decimal=bv:(aD||(aD="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),ai=aD.Decimal,bv.noConflict=function(){return aD.Decimal=ai,bv},aD.Decimal=bv)}(this);(function(){function aq(b){function a(g,h,j,d,f,k){for(;f>=0&&k>f;f+=b){var c=d?d[f]:f;j=h(j,g[c],c,g)}return j}return function(h,j,f,g){j=aD(j,g,4);var k=!au(h)&&ar.keys(h),d=(k||h).length,l=b>0?0:d-1;return arguments.length<3&&(f=h[k?k[l]:l],l+=b),a(h,j,f,k,l,d)}}function ak(a){return function(d,f,g){f=ag(f,g);for(var b=Q(d),c=a>0?0:b-1;c>=0&&b>c;c+=a){if(f(d[c],c,d)){return c}}return -1}}function am(c,a,b){return function(h,f,g){var j=0,d=Q(h);if("number"==typeof g){c>0?j=g>=0?g:Math.max(g+d,j):d=g>=0?Math.min(g+1,d):g+d+1}else{if(b&&g&&d){return g=b(h,f),h[g]===f?g:-1}}if(f!==f){return g=a(at.call(h,j,d),ar.isNaN),g>=0?g+j:-1}for(g=c>0?j:d-1;g>=0&&d>g;g+=c){if(h[g]===f){return g}}return -1}}function aA(g,c){var d=Y.length,f=g.constructor,a=ar.isFunction(f)&&f.prototype||aE,b="constructor";for(ar.has(g,b)&&!ar.contains(c,b)&&c.push(b);d--;){b=Y[d],b in g&&g[b]!==a[b]&&!ar.contains(c,b)&&c.push(b)}}var aj=this,aw=aj._,ap=Array.prototype,aE=Object.prototype,aC=Function.prototype,az=ap.push,at=ap.slice,al=aE.toString,ao=aE.hasOwnProperty,ax=Array.isArray,ai=Object.keys,ay=aC.bind,af=Object.create,aB=function(){},ar=function(a){return a instanceof ar?a:this instanceof ar?void (this._wrapped=a):new ar(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):aj._=ar,ar.VERSION="1.8.3";var aD=function(c,a,b){if(a===void 0){return c}switch(null==b?3:b){case 1:return function(d){return c.call(a,d)};case 2:return function(d,f){return c.call(a,d,f)};case 3:return function(f,g,d){return c.call(a,f,g,d)};case 4:return function(g,h,d,f){return c.call(a,g,h,d,f)}}return function(){return c.apply(a,arguments)}},ag=function(c,a,b){return null==c?ar.identity:ar.isFunction(c)?aD(c,a,b):ar.isObject(c)?ar.matcher(c):ar.property(c)};ar.iteratee=function(b,a){return ag(b,a,1/0)};var aF=function(b,a){return function(j){var l=arguments.length;if(2>l||null==j){return j}for(var g=1;l>g;g++){for(var h=arguments[g],m=b(h),d=m.length,n=0;d>n;n++){var k=m[n];a&&j[k]!==void 0||(j[k]=h[k])}}return j}},av=function(b){if(!ar.isObject(b)){return{}}if(af){return af(b)}aB.prototype=b;var a=new aB;return aB.prototype=null,a},ah=function(a){return function(b){return null==b?void 0:b[a]}},ad=Math.pow(2,53)-1,Q=ah("length"),au=function(b){var a=Q(b);return"number"==typeof a&&a>=0&&ad>=a};ar.each=ar.forEach=function(g,c,d){c=aD(c,d);var f,a;if(au(g)){for(f=0,a=g.length;a>f;f++){c(g[f],f,g)}}else{var b=ar.keys(g);for(f=0,a=b.length;a>f;f++){c(g[b[f]],b[f],g)}}return g},ar.map=ar.collect=function(k,f,g){f=ag(f,g);for(var h=!au(k)&&ar.keys(k),c=(h||k).length,d=Array(c),j=0;c>j;j++){var b=h?h[j]:j;d[j]=f(k[b],b,k)}return d},ar.reduce=ar.foldl=ar.inject=aq(1),ar.reduceRight=ar.foldr=aq(-1),ar.find=ar.detect=function(d,a,b){var c;return c=au(d)?ar.findIndex(d,a,b):ar.findKey(d,a,b),c!==void 0&&c!==-1?d[c]:void 0},ar.filter=ar.select=function(d,a,b){var c=[];return a=ag(a,b),ar.each(d,function(h,g,f){a(h,g,f)&&c.push(h)}),c},ar.reject=function(c,a,b){return ar.filter(c,ar.negate(ag(a)),b)},ar.every=ar.all=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(!c(h[g],g,h)){return !1}}return !0},ar.some=ar.any=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(c(h[g],g,h)){return !0}}return !1},ar.contains=ar.includes=ar.include=function(d,a,b,c){return au(d)||(d=ar.values(d)),("number"!=typeof b||c)&&(b=0),ar.indexOf(d,a,b)>=0},ar.invoke=function(d,a){var b=at.call(arguments,2),c=ar.isFunction(a);return ar.map(d,function(g){var f=c?a:g[a];return null==f?f:f.apply(g,b)})},ar.pluck=function(b,a){return ar.map(b,ar.property(a))},ar.where=function(b,a){return ar.filter(b,ar.matcher(a))},ar.findWhere=function(b,a){return ar.find(b,ar.matcher(a))},ar.max=function(f,m,b){var h,l,g=-1/0,d=-1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],h>g&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(l>d||l===-1/0&&g===-1/0)&&(g=i,d=l)})}return g},ar.min=function(f,m,b){var h,l,g=1/0,d=1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],g>h&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(d>l||1/0===l&&1/0===g)&&(g=i,d=l)})}return g},ar.shuffle=function(g){for(var c,d=au(g)?g:ar.values(g),f=d.length,a=Array(f),b=0;f>b;b++){c=ar.random(0,b),c!==b&&(a[b]=a[c]),a[c]=d[b]}return a},ar.sample=function(c,a,b){return null==a||b?(au(c)||(c=ar.values(c)),c[ar.random(c.length-1)]):ar.shuffle(c).slice(0,Math.max(0,a))},ar.sortBy=function(c,a,b){return a=ag(a,b),ar.pluck(ar.map(c,function(g,d,f){return{value:g,index:d,criteria:a(g,d,f)}}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1}if(g>f||g===void 0){return -1}}return h.index-d.index}),"value")};var Z=function(a){return function(c,d,f){var b={};return d=ag(d,f),ar.each(c,function(h,g){var j=d(h,g,c);a(b,h,j)}),b}};ar.groupBy=Z(function(c,a,b){ar.has(c,b)?c[b].push(a):c[b]=[a]}),ar.indexBy=Z(function(c,a,b){c[b]=a}),ar.countBy=Z(function(c,a,b){ar.has(c,b)?c[b]++:c[b]=1}),ar.toArray=function(a){return a?ar.isArray(a)?at.call(a):au(a)?ar.map(a,ar.identity):ar.values(a):[]},ar.size=function(a){return null==a?0:au(a)?a.length:ar.keys(a).length},ar.partition=function(f,b,c){b=ag(b,c);var d=[],a=[];return ar.each(f,function(j,h,g){(b(j,h,g)?d:a).push(j)}),[d,a]},ar.first=ar.head=ar.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:ar.initial(c,c.length-a)},ar.initial=function(c,a,b){return at.call(c,0,Math.max(0,c.length-(null==a||b?1:a)))},ar.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:ar.rest(c,Math.max(0,c.length-a))},ar.rest=ar.tail=ar.drop=function(c,a,b){return at.call(c,null==a||b?1:a)},ar.compact=function(a){return ar.filter(a,ar.identity)};var G=function(g,v,b,m){for(var s=[],j=0,d=m||0,q=Q(g);q>d;d++){var p=g[d];if(au(p)&&(ar.isArray(p)||ar.isArguments(p))){v||(p=G(p,v,b));var k=0,h=p.length;for(s.length+=h;h>k;){s[j++]=p[k++]}}else{b||(s[j++]=p)}}return s};ar.flatten=function(b,a){return G(b,a,!1)},ar.without=function(a){return ar.difference(a,at.call(arguments,1))},ar.uniq=ar.unique=function(g,q,b,k){ar.isBoolean(q)||(k=b,b=q,q=!1),null!=b&&(b=ag(b,k));for(var p=[],h=[],d=0,m=Q(g);m>d;d++){var l=g[d],j=b?b(l,d,g):l;q?(d&&h===j||p.push(l),h=j):b?ar.contains(h,j)||(h.push(j),p.push(l)):ar.contains(p,l)||p.push(l)}return p},ar.union=function(){return ar.uniq(G(arguments,!0,!0))},ar.intersection=function(h){for(var c=[],d=arguments.length,f=0,a=Q(h);a>f;f++){var b=h[f];if(!ar.contains(c,b)){for(var g=1;d>g&&ar.contains(arguments[g],b);g++){}g===d&&c.push(b)}}return c},ar.difference=function(b){var a=G(arguments,!0,!0,1);return ar.filter(b,function(c){return !ar.contains(a,c)})},ar.zip=function(){return ar.unzip(arguments)},ar.unzip=function(d){for(var a=d&&ar.max(d,Q).length||0,b=Array(a),c=0;a>c;c++){b[c]=ar.pluck(d,c)}return b},ar.object=function(f,b){for(var c={},d=0,a=Q(f);a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ar.findIndex=ak(1),ar.findLastIndex=ak(-1),ar.sortedIndex=function(k,f,g,h){g=ag(g,h,1);for(var c=g(f),d=0,j=Q(k);j>d;){var b=Math.floor((d+j)/2);g(k[b])<c?d=b+1:j=b}return d},ar.indexOf=am(1,ar.findIndex,ar.sortedIndex),ar.lastIndexOf=am(-1,ar.findLastIndex),ar.range=function(g,c,d){null==c&&(c=g||0,g=0),d=d||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=Array(f),b=0;f>b;b++,g+=d){a[b]=g}return a};var aa=function(h,c,d,f,a){if(!(f instanceof c)){return h.apply(d,a)}var b=av(h.prototype),g=h.apply(b,a);return ar.isObject(g)?g:b};ar.bind=function(d,a){if(ay&&d.bind===ay){return ay.apply(d,at.call(arguments,1))}if(!ar.isFunction(d)){throw new TypeError("Bind must be called on a function")}var b=at.call(arguments,2),c=function(){return aa(d,c,a,this,b.concat(at.call(arguments)))};return c},ar.partial=function(c){var a=at.call(arguments,1),b=function(){for(var g=0,d=a.length,f=Array(d),h=0;d>h;h++){f[h]=a[h]===ar?arguments[g++]:a[h]}for(;g<arguments.length;){f.push(arguments[g++])}return aa(c,b,this,this,f)};return b},ar.bindAll=function(d){var a,b,c=arguments.length;if(1>=c){throw new Error("bindAll must be passed function names")}for(a=1;c>a;a++){b=arguments[a],d[b]=ar.bind(d[b],d)}return d},ar.memoize=function(c,a){var b=function(g){var d=b.cache,f=""+(a?a.apply(this,arguments):g);return ar.has(d,f)||(d[f]=c.apply(this,arguments)),d[f]};return b.cache={},b},ar.delay=function(c,a){var b=at.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ar.defer=ar.partial(ar.delay,ar,1),ar.throttle=function(f,m,b){var h,l,g,d=null,k=0;b||(b={});var j=function(){k=b.leading===!1?0:ar.now(),d=null,g=f.apply(h,l),d||(h=l=null)};return function(){var c=ar.now();k||b.leading!==!1||(k=c);var a=m-(c-k);return h=this,l=arguments,0>=a||a>m?(d&&(clearTimeout(d),d=null),k=c,g=f.apply(h,l),d||(h=l=null)):d||b.trailing===!1||(d=setTimeout(j,a)),g}},ar.debounce=function(f,m,b){var h,l,g,d,k,j=function(){var a=ar.now()-d;m>a&&a>=0?h=setTimeout(j,m-a):(h=null,b||(k=f.apply(g,l),h||(g=l=null)))};return function(){g=this,l=arguments,d=ar.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(k=f.apply(g,l),g=l=null),k}},ar.wrap=function(b,a){return ar.partial(a,b)},ar.negate=function(a){return function(){return !a.apply(this,arguments)}},ar.compose=function(){var b=arguments,a=b.length-1;return function(){for(var c=a,d=b[a].apply(this,arguments);c--;){d=b[c].call(this,d)}return d}},ar.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ar.before=function(c,a){var b;return function(){return --c>0&&(b=a.apply(this,arguments)),1>=c&&(a=null),b}},ar.once=ar.partial(ar.before,2);var V=!{toString:null}.propertyIsEnumerable("toString"),Y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];ar.keys=function(c){if(!ar.isObject(c)){return[]}if(ai){return ai(c)}var a=[];for(var b in c){ar.has(c,b)&&a.push(b)}return V&&aA(c,a),a},ar.allKeys=function(c){if(!ar.isObject(c)){return[]}var a=[];for(var b in c){a.push(b)}return V&&aA(c,a),a},ar.values=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=f[b[a]]}return d},ar.mapObject=function(k,f,g){f=ag(f,g);for(var h,c=ar.keys(k),d=c.length,j={},b=0;d>b;b++){h=c[b],j[h]=f(k[h],h,k)}return j},ar.pairs=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]]}return d},ar.invert=function(f){for(var b={},c=ar.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d]}return b},ar.functions=ar.methods=function(c){var a=[];for(var b in c){ar.isFunction(c[b])&&a.push(b)}return a.sort()},ar.extend=aF(ar.allKeys),ar.extendOwn=ar.assign=aF(ar.keys),ar.findKey=function(h,c,d){c=ag(c,d);for(var f,a=ar.keys(h),b=0,g=a.length;g>b;b++){if(f=a[b],c(h[f],f,h)){return f}}},ar.pick=function(g,v,b){var m,s,j={},d=g;if(null==d){return j}ar.isFunction(v)?(s=ar.allKeys(d),m=aD(v,b)):(s=G(arguments,!1,!1,1),m=function(f,a,c){return a in c},d=Object(d));for(var q=0,p=s.length;p>q;q++){var k=s[q],h=d[k];m(h,k,d)&&(j[k]=h)}return j},ar.omit=function(d,a,b){if(ar.isFunction(a)){a=ar.negate(a)}else{var c=ar.map(G(arguments,!1,!1,1),String);a=function(g,f){return !ar.contains(c,f)}}return ar.pick(d,a,b)},ar.defaults=aF(ar.allKeys,!0),ar.create=function(c,a){var b=av(c);return a&&ar.extendOwn(b,a),b},ar.clone=function(a){return ar.isObject(a)?ar.isArray(a)?a.slice():ar.extend({},a):a},ar.tap=function(b,a){return a(b),b},ar.isMatch=function(h,c){var d=ar.keys(c),f=d.length;if(null==h){return !f}for(var a=Object(h),b=0;f>b;b++){var g=d[b];if(c[g]!==a[g]||!(g in a)){return !1}}return !0};var U=function(g,v,b,m){if(g===v){return 0!==g||1/g===1/v}if(null==g||null==v){return g===v}g instanceof ar&&(g=g._wrapped),v instanceof ar&&(v=v._wrapped);var s=al.call(g);if(s!==al.call(v)){return !1}switch(s){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return +g!==+g?+v!==+v:0===+g?1/+g===1/v:+g===+v;case"[object Date]":case"[object Boolean]":return +g===+v}var j="[object Array]"===s;if(!j){if("object"!=typeof g||"object"!=typeof v){return !1}var d=g.constructor,q=v.constructor;if(d!==q&&!(ar.isFunction(d)&&d instanceof d&&ar.isFunction(q)&&q instanceof q)&&"constructor" in g&&"constructor" in v){return !1}}b=b||[],m=m||[];for(var p=b.length;p--;){if(b[p]===g){return m[p]===v}}if(b.push(g),m.push(v),j){if(p=g.length,p!==v.length){return !1}for(;p--;){if(!U(g[p],v[p],b,m)){return !1}}}else{var k,h=ar.keys(g);if(p=h.length,ar.keys(v).length!==p){return !1}for(;p--;){if(k=h[p],!ar.has(v,k)||!U(g[k],v[k],b,m)){return !1}}}return b.pop(),m.pop(),!0};ar.isEqual=function(b,a){return U(b,a)},ar.isEmpty=function(a){return null==a?!0:au(a)&&(ar.isArray(a)||ar.isString(a)||ar.isArguments(a))?0===a.length:0===ar.keys(a).length},ar.isElement=function(a){return !(!a||1!==a.nodeType)},ar.isArray=ax||function(a){return"[object Array]"===al.call(a)},ar.isObject=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b},ar.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){ar["is"+a]=function(b){return al.call(b)==="[object "+a+"]"}}),ar.isArguments(arguments)||(ar.isArguments=function(a){return ar.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(ar.isFunction=function(a){return"function"==typeof a||!1}),ar.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ar.isNaN=function(a){return ar.isNumber(a)&&a!==+a},ar.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===al.call(a)},ar.isNull=function(a){return null===a},ar.isUndefined=function(a){return a===void 0},ar.has=function(b,a){return null!=b&&ao.call(b,a)},ar.noConflict=function(){return aj._=aw,this},ar.identity=function(a){return a},ar.constant=function(a){return function(){return a}},ar.noop=function(){},ar.property=ah,ar.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},ar.matcher=ar.matches=function(a){return a=ar.extendOwn({},a),function(b){return ar.isMatch(b,a)}},ar.times=function(f,b,c){var d=Array(Math.max(0,f));b=aD(b,c,1);for(var a=0;f>a;a++){d[a]=b(a)}return d},ar.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))},ar.now=Date.now||function(){return(new Date).getTime()};var ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=ar.invert(ac),H=function(f){var b=function(g){return f[g]},c="(?:"+ar.keys(f).join("|")+")",d=RegExp(c),a=RegExp(c,"g");return function(g){return g=null==g?"":""+g,d.test(g)?g.replace(a,b):g}};ar.escape=H(ac),ar.unescape=H(C),ar.result=function(d,a,b){var c=null==d?void 0:d[a];return c===void 0&&(c=b),ar.isFunction(c)?c.call(d):c};var an=0;ar.uniqueId=function(b){var a=++an+"";return b?b+a:a},ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,ae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ab=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+ae[a]};ar.template=function(g,q,b){!q&&b&&(q=b),q=ar.defaults({},q,ar.templateSettings);var k=RegExp([(q.escape||X).source,(q.interpolate||X).source,(q.evaluate||X).source].join("|")+"|$","g"),p=0,h="__p+='";g.replace(k,function(f,i,n,s,c){return h+=g.slice(p,c).replace(ab,W),p=c+f.length,i?h+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?h+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(h+="';\n"+s+"\n__p+='"),f}),h+="';\n",q.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var d=new Function(q.variable||"obj","_",h)}catch(m){throw m.source=h,m}var l=function(a){return d.call(this,a,ar)},j=q.variable||"obj";return l.source="function("+j+"){\n"+h+"}",l},ar.chain=function(b){var a=ar(b);return a._chain=!0,a};var J=function(b,a){return b._chain?ar(a).chain():a};ar.mixin=function(a){ar.each(ar.functions(a),function(b){var c=ar[b]=a[b];ar.prototype[b]=function(){var d=[this._wrapped];return az.apply(d,arguments),J(this,c.apply(ar,d))}})},ar.mixin(ar),ar.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=ap[b];ar.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!==b&&"splice"!==b||0!==c.length||delete c[0],J(this,c)}}),ar.each(["concat","join","slice"],function(b){var a=ap[b];ar.prototype[b]=function(){return J(this,a.apply(this._wrapped,arguments))}}),ar.prototype.value=function(){return this._wrapped},ar.prototype.valueOf=ar.prototype.toJSON=ar.prototype.value,ar.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return ar})}).call(this);!function(d,c){"object"==typeof exports&&"undefined"!=typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):d.moment=c()}(this,function(){function dy(){return eQ.apply(null,arguments)}function dx(b){eQ=b}function dw(b){return"[object Array]"===Object.prototype.toString.call(b)}function dv(b){return b instanceof Date||"[object Date]"===Object.prototype.toString.call(b)}function du(g,f){var i,h=[];for(i=0;i<g.length;++i){h.push(f(g[i],i))}return h}function ds(d,c){return Object.prototype.hasOwnProperty.call(d,c)}function dq(f,d){for(var g in d){ds(d,g)&&(f[g]=d[g])}return ds(d,"toString")&&(f.toString=d.toString),ds(d,"valueOf")&&(f.valueOf=d.valueOf),f}function dp(g,f,i,h){return bu(g,f,i,h,!0).utc()}function dm(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function dk(b){return null==b._pf&&(b._pf=dm()),b._pf}function di(d){if(null==d._isValid){var c=dk(d);d._isValid=!(isNaN(d._d.getTime())||!(c.overflow<0)||c.empty||c.invalidMonth||c.invalidWeekday||c.nullInput||c.invalidFormat||c.userInvalidated),d._strict&&(d._isValid=d._isValid&&0===c.charsLeftOver&&0===c.unusedTokens.length&&void 0===c.bigHour)}return d._isValid}function dh(d){var c=dp(NaN);return null!=d?dq(dk(c),d):dk(c).userInvalidated=!0,c}function dg(g,f){var j,i,h;if("undefined"!=typeof f._isAMomentObject&&(g._isAMomentObject=f._isAMomentObject),"undefined"!=typeof f._i&&(g._i=f._i),"undefined"!=typeof f._f&&(g._f=f._f),"undefined"!=typeof f._l&&(g._l=f._l),"undefined"!=typeof f._strict&&(g._strict=f._strict),"undefined"!=typeof f._tzm&&(g._tzm=f._tzm),"undefined"!=typeof f._isUTC&&(g._isUTC=f._isUTC),"undefined"!=typeof f._offset&&(g._offset=f._offset),"undefined"!=typeof f._pf&&(g._pf=dk(f)),"undefined"!=typeof f._locale&&(g._locale=f._locale),dB.length>0){for(j in dB){i=dB[j],h=f[i],"undefined"!=typeof h&&(g[i]=h)}}return g}function df(a){dg(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),cN===!1&&(cN=!0,dy.updateOffset(this),cN=!1)}function c9(b){return b instanceof df||null!=b&&null!=b._isAMomentObject}function c8(b){return 0>b?Math.ceil(b):Math.floor(b)}function c6(f){var d=+f,g=0;return 0!==d&&isFinite(d)&&(g=c8(d)),g}function c5(i,h,n){var m,l=Math.min(i.length,h.length),k=Math.abs(i.length-h.length),j=0;for(m=0;l>m;m++){(n&&i[m]!==h[m]||!n&&c6(i[m])!==c6(h[m]))&&j++}return j+k}function c3(){}function c1(b){return b?b.toLowerCase().replace("_","-"):b}function cZ(h){for(var g,l,k,j,i=0;i<h.length;){for(j=c1(h[i]).split("-"),g=j.length,l=c1(h[i+1]),l=l?l.split("-"):null;g>0;){if(k=cY(j.slice(0,g).join("-"))){return k}if(l&&l.length>=g&&c5(j,l,!0)>=g-1){break}g--}i++}return null}function cY(f){var d=null;if(!cw[f]&&"undefined"!=typeof module&&module&&module.exports){try{d=es._abbr,require("./locale/"+f),cX(d)}catch(g){}}return cw[f]}function cX(f,d){var g;return f&&(g="undefined"==typeof d?cV(f):cW(f,d),g&&(es=g)),es._abbr}function cW(d,c){return null!==c?(c.abbr=d,cw[d]=cw[d]||new c3,cw[d].set(c),cX(d),cw[d]):(delete cw[d],null)}function cV(d){var c;if(d&&d._locale&&d._locale._abbr&&(d=d._locale._abbr),!d){return es}if(!dw(d)){if(c=cY(d)){return c}d=[d]}return cZ(d)}function cT(f,d){var g=f.toLowerCase();cf[g]=cf[g+"s"]=cf[d]=f}function eq(b){return"string"==typeof b?cf[b]||cf[b.toLowerCase()]:void 0}function en(g){var f,i,h={};for(i in g){ds(g,i)&&(f=eq(i),f&&(h[f]=g[i]))}return h}function el(a,d){return function(b){return null!=b?(ei(this,a,b),dy.updateOffset(this,d),this):ej(this,a)}}function ej(d,c){return d._d["get"+(d._isUTC?"UTC":"")+c]()}function ei(f,d,g){return f._d["set"+(f._isUTC?"UTC":"")+d](g)}function eh(f,d){var g;if("object"==typeof f){for(g in f){this.set(g,f[g])}}else{if(f=eq(f),"function"==typeof this[f]){return this[f](d)}}return this}function ef(h,g,l){var k=""+Math.abs(h),j=g-k.length,i=h>=0;return(i?l?"+":"":"-")+Math.pow(10,Math.max(0,j)).toString().substr(1)+k}function d8(g,f,j,i){var h=i;"string"==typeof i&&(h=function(){return this[i]()}),g&&(aV[g]=h),f&&(aV[f[0]]=function(){return ef(h.apply(this,arguments),f[1],f[2])}),j&&(aV[j]=function(){return this.localeData().ordinal(h.apply(this,arguments),g)})}function d7(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function d5(g){var f,i,h=g.match(bP);for(f=0,i=h.length;i>f;f++){aV[h[f]]?h[f]=aV[h[f]]:h[f]=d7(h[f])}return function(b){var a="";for(f=0;i>f;f++){a+=h[f] instanceof Function?h[f].call(b,g):h[f]}return a}}function d3(d,c){return d.isValid()?(c=d1(c,d.localeData()),bh[c]=bh[c]||d5(c),bh[c](d)):d.localeData().invalidDate()}function d1(g,f){function i(b){return f.longDateFormat(b)||b}var h=5;for(by.lastIndex=0;h>=0&&by.test(g);){g=g.replace(by,i),by.lastIndex=0,h-=1}return g}function d0(b){return"function"==typeof b&&"[object Function]"===Object.prototype.toString.call(b)}function dZ(f,d,g){cI[f]=d0(d)?d:function(b){return b&&g?g:d}}function dY(d,c){return ds(cI,d)?cI[d](c._strict,c._locale):new RegExp(dX(d))}function dX(b){return b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,f,j,i,h){return f||j||i||h}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function dW(g,f){var i,h=f;for("string"==typeof g&&(g=[g]),"number"==typeof f&&(h=function(b,d){d[f]=c6(b)}),i=0;i<g.length;i++){cr[g[i]]=h}}function dU(d,c){dW(d,function(b,h,g,f){g._w=g._w||{},c(b,g._w,g,f)})}function dT(f,d,g){null!=d&&ds(cr,f)&&cr[f](d,g._a,g,f)}function dR(d,c){return new Date(Date.UTC(d,c+1,0)).getUTCDate()}function dP(b){return this._months[b.month()]}function dN(b){return this._monthsShort[b.month()]}function dM(h,g,l){var k,j,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),k=0;12>k;k++){if(j=dp([2000,k]),l&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months(j,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort(j,"").replace(".","")+"$","i")),l||this._monthsParse[k]||(i="^"+this.months(j,"")+"|^"+this.monthsShort(j,""),this._monthsParse[k]=new RegExp(i.replace(".",""),"i")),l&&"MMMM"===g&&this._longMonthsParse[k].test(h)){return k}if(l&&"MMM"===g&&this._shortMonthsParse[k].test(h)){return k}if(!l&&this._monthsParse[k].test(h)){return k}}}function dL(f,d){var g;return"string"==typeof d&&(d=f.localeData().monthsParse(d),"number"!=typeof d)?f:(g=Math.min(f.date(),dR(f.year(),d)),f._d["set"+(f._isUTC?"UTC":"")+"Month"](d,g),f)}function dK(a){return null!=a?(dL(this,a),dy.updateOffset(this,!0),this):ej(this,"Month")}function dJ(){return dR(this.year(),this.month())}function eN(f){var d,g=f._a;return g&&-2===dk(f).overflow&&(d=g[bI]<0||g[bI]>11?bI:g[br]<1||g[br]>dR(g[b3],g[bI])?br:g[a5]<0||g[a5]>24||24===g[a5]&&(0!==g[aO]||0!==g[ax]||0!==g[e8])?a5:g[aO]<0||g[aO]>59?aO:g[ax]<0||g[ax]>59?ax:g[e8]<0||g[e8]>999?e8:-1,dk(f)._overflowDayOfYear&&(b3>d||d>br)&&(d=br),dk(f).overflow=d),f}function dC(a){dy.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function eM(f,d){var g=!0;return dq(function(){return g&&(dC(f+"\n"+(new Error).stack),g=!1),d.apply(this,arguments)},d)}function eg(d,c){dD[d]||(dC(c),dD[d]=!0)}function dt(g){var f,j,i=g._i,h=cO.exec(i);if(h){for(dk(g).iso=!0,f=0,j=cx.length;j>f;f++){if(cx[f][1].exec(i)){g._f=cx[f][0];break}}for(f=0,j=cg.length;j>f;f++){if(cg[f][1].exec(i)){g._f+=(h[6]||" ")+cg[f][0];break}}i.match(eJ)&&(g._f+="Z"),a1(g)}else{g._isValid=!1}}function cL(a){var d=bQ.exec(a._i);return null!==d?void (a._d=new Date(+d[1])):(dt(a),void (a._isValid===!1&&(delete a._isValid,dy.createFromInputFallback(a))))}function cu(j,i,q,p,n,m,l){var k=new Date(j,i,q,p,n,m,l);return 1970>j&&k.setFullYear(j),k}function b8(d){var c=new Date(Date.UTC.apply(null,arguments));return 1970>d&&c.setUTCFullYear(d),c}function bN(b){return bw(b)?366:365}function bw(b){return b%4===0&&b%100!==0||b%400===0}function bf(){return bw(this.year())}function aT(h,g,l){var k,j=l-g,i=l-h.day();return i>j&&(i-=7),j-7>i&&(i+=7),k=a8(h).add(i,"d"),{week:Math.ceil(k.dayOfYear()/7),year:k.year()}}function aC(b){return aT(b,this._week.dow,this._week.doy).week}function ag(){return this._week.dow}function eW(){return this._week.doy}function ez(d){var c=this.localeData().week(this);return null==d?c:this.add(7*(d-c),"d")}function dI(d){var c=aT(this,1,4).week;return null==d?c:this.add(7*(d-c),"d")}function cU(s,r,q,p,n){var m,l=6+n-p,k=b8(s,0,1+l),j=k.getUTCDay();return n>j&&(j+=7),q=null!=q?1*q:n,m=1+l+7*(r-1)-j+q,{year:m>0?s:s-1,dayOfYear:m>0?m:bN(s-1)+m}}function cC(d){var c=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return null==d?c:this.add(d-c,"d")}function cl(f,d,g){return null!=f?f:null!=d?d:g}function bV(d){var c=new Date;return d._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function bE(h){var g,l,k,j,i=[];if(!h._d){for(k=bV(h),h._w&&null==h._a[br]&&null==h._a[bI]&&bn(h),h._dayOfYear&&(j=cl(h._a[b3],k[b3]),h._dayOfYear>bN(j)&&(dk(h)._overflowDayOfYear=!0),l=b8(j,0,h._dayOfYear),h._a[bI]=l.getUTCMonth(),h._a[br]=l.getUTCDate()),g=0;3>g&&null==h._a[g];++g){h._a[g]=i[g]=k[g]}for(;7>g;g++){h._a[g]=i[g]=null==h._a[g]?2===g?1:0:h._a[g]}24===h._a[a5]&&0===h._a[aO]&&0===h._a[ax]&&0===h._a[e8]&&(h._nextDay=!0,h._a[a5]=0),h._d=(h._useUTC?b8:cu).apply(null,i),null!=h._tzm&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[a5]=24)}}function bn(j){var i,q,p,n,m,l,k;i=j._w,null!=i.GG||null!=i.W||null!=i.E?(m=1,l=4,q=cl(i.GG,j._a[b3],aT(a8(),1,4).year),p=cl(i.W,1),n=cl(i.E,1)):(m=j._locale._week.dow,l=j._locale._week.doy,q=cl(i.gg,j._a[b3],aT(a8(),m,l).year),p=cl(i.w,1),null!=i.d?(n=i.d,m>n&&++p):n=null!=i.e?i.e+m:m),k=cU(q,p,n,l,m),j._a[b3]=k.year,j._dayOfYear=k.dayOfYear}function a1(s){if(s._f===dy.ISO_8601){return void dt(s)}s._a=[],dk(s).empty=!0;var r,q,p,n,m,l=""+s._i,j=l.length,a=0;for(p=d1(s._f,s._locale).match(bP)||[],r=0;r<p.length;r++){n=p[r],q=(l.match(dY(n,s))||[])[0],q&&(m=l.substr(0,l.indexOf(q)),m.length>0&&dk(s).unusedInput.push(m),l=l.slice(l.indexOf(q)+q.length),a+=q.length),aV[n]?(q?dk(s).empty=!1:dk(s).unusedTokens.push(n),dT(n,q,s)):s._strict&&!q&&dk(s).unusedTokens.push(n)}dk(s).charsLeftOver=j-a,l.length>0&&dk(s).unusedInput.push(l),dk(s).bigHour===!0&&s._a[a5]<=12&&s._a[a5]>0&&(dk(s).bigHour=void 0),s._a[a5]=aK(s._locale,s._a[a5],s._meridiem),bE(s),eN(s)}function aK(g,f,i){var h;return null==i?f:null!=g.meridiemHour?g.meridiemHour(f,i):null!=g.isPM?(h=g.isPM(i),h&&12>f&&(f+=12),h||12!==f||(f=0),f):f}function ao(h){var g,l,k,j,i;if(0===h._f.length){return dk(h).invalidFormat=!0,void (h._d=new Date(NaN))}for(j=0;j<h._f.length;j++){i=0,g=dg({},h),null!=h._useUTC&&(g._useUTC=h._useUTC),g._f=h._f[j],a1(g),di(g)&&(i+=dk(g).charsLeftOver,i+=10*dk(g).unusedTokens.length,dk(g).score=i,(null==k||k>i)&&(k=i,l=g))}dq(h,l||g)}function e4(d){if(!d._d){var c=en(d._i);d._a=[c.year,c.month,c.day||c.date,c.hour,c.minute,c.second,c.millisecond],bE(d)}}function eH(d){var c=new df(eN(b6(d)));return c._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function b6(d){var c=d._i,f=d._f;return d._locale=d._locale||cV(d._l),null===c||void 0===f&&""===c?dh({nullInput:!0}):("string"==typeof c&&(d._i=c=d._locale.preparse(c)),c9(c)?new df(eN(c)):(dw(f)?ao(d):f?a1(d):dv(c)?d._d=c:bL(d),d))}function bL(a){var c=a._i;void 0===c?a._d=new Date:dv(c)?a._d=new Date(+c):"string"==typeof c?cL(a):dw(c)?(a._a=du(c.slice(0),function(b){return parseInt(b,10)}),bE(a)):"object"==typeof c?e4(a):"number"==typeof c?a._d=new Date(c):dy.createFromInputFallback(a)}function bu(h,g,l,k,j){var i={};return"boolean"==typeof l&&(k=l,l=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=j,i._l=l,i._i=h,i._f=g,i._strict=k,eH(i)}function a8(g,f,i,h){return bu(g,f,i,h,!1)}function aR(f,c){var h,g;if(1===c.length&&dw(c[0])&&(c=c[0]),!c.length){return a8()}for(h=c[0],g=1;g<c.length;++g){(!c[g].isValid()||c[g][f](h))&&(h=c[g])}return h}function aA(){var b=[].slice.call(arguments,0);return aR("isBefore",b)}function fg(){var b=[].slice.call(arguments,0);return aR("isAfter",b)}function eU(w){var v=en(w),u=v.year||0,t=v.quarter||0,s=v.month||0,r=v.week||0,q=v.day||0,p=v.hour||0,n=v.minute||0,m=v.second||0,l=v.millisecond||0;this._milliseconds=+l+1000*m+60000*n+3600000*p,this._days=+q+7*r,this._months=+s+3*t+12*u,this._data={},this._locale=cV(),this._bubble()}function ex(b){return b instanceof eU}function dG(d,c){d8(d,0,0,function(){var b=this.utcOffset(),f="+";return 0>b&&(b=-b,f="-"),f+ef(~~(b/60),2)+c+ef(~~b%60,2)})}function cR(g){var f=(g||"").match(eJ)||[],j=f[f.length-1]||[],i=(j+"").match(aj)||["-",0,0],h=+(60*i[1])+c6(i[2]);return"+"===i[0]?h:-h}function cA(a,h){var g,d;return h._isUTC?(g=h.clone(),d=(c9(a)||dv(a)?+a:+a8(a))-+g,g._d.setTime(+g._d+d),dy.updateOffset(g,!1),g):a8(a).local()}function cj(b){return 15*-Math.round(b._d.getTimezoneOffset()/15)}function bT(a,h){var g,f=this._offset||0;return null!=a?("string"==typeof a&&(a=cR(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&h&&(g=cj(this)),this._offset=a,this._isUTC=!0,null!=g&&this.add(g,"m"),f!==a&&(!h||this._changeInProgress?d9(this,cp(a-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,dy.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?f:cj(this)}function bC(d,c){return null!=d?("string"!=typeof d&&(d=-d),this.utcOffset(d,c),this):-this.utcOffset()}function bl(b){return this.utcOffset(0,b)}function aZ(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(cj(this),"m")),this}function aI(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(cR(this._i)),this}function am(b){return b=b?a8(b).utcOffset():0,(this.utcOffset()-b)%60===0}function e2(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function eF(){if("undefined"!=typeof this._isDSTShifted){return this._isDSTShifted}var d={};if(dg(d,this),d=b6(d),d._a){var c=d._isUTC?dp(d._a):a8(d._a);this._isDSTShifted=this.isValid()&&c5(d._a,c.toArray())>0}else{this._isDSTShifted=!1}return this._isDSTShifted}function dV(){return !this._isUTC}function c7(){return this._isUTC}function cG(){return this._isUTC&&0===this._offset}function cp(i,f){var n,m,l,k=i,j=null;return ex(i)?k={ms:i._milliseconds,d:i._days,M:i._months}:"number"==typeof i?(k={},f?k[f]=i:k.milliseconds=i):(j=eZ.exec(i))?(n="-"===j[1]?-1:1,k={y:0,d:c6(j[br])*n,h:c6(j[a5])*n,m:c6(j[aO])*n,s:c6(j[ax])*n,ms:c6(j[e8])*n}):(j=eC.exec(i))?(n="-"===j[1]?-1:1,k={y:bZ(j[2],n),M:bZ(j[3],n),d:bZ(j[4],n),h:bZ(j[5],n),m:bZ(j[6],n),s:bZ(j[7],n),w:bZ(j[8],n)}):null==k?k={}:"object"==typeof k&&("from" in k||"to" in k)&&(l=at(a8(k.from),a8(k.to)),k={},k.ms=l.milliseconds,k.M=l.months),m=new eU(k),ex(i)&&ds(i,"_locale")&&(m._locale=i._locale),m}function bZ(f,d){var g=f&&parseFloat(f.replace(",","."));return(isNaN(g)?0:g)*d}function et(f,d){var g={milliseconds:0,months:0};return g.months=d.month()-f.month()+12*(d.year()-f.year()),f.clone().add(g.months,"M").isAfter(d)&&--g.months,g.milliseconds=+d-+f.clone().add(g.months,"M"),g}function at(f,d){var g;return d=cA(d,f),f.isBefore(d)?g=et(f,d):(g=et(d,f),g.milliseconds=-g.milliseconds,g.months=-g.months),g}function eL(d,c){return function(h,g){var b,a;return null===g||isNaN(+g)||(eg(c,"moment()."+c+"(period, number) is deprecated. Please use moment()."+c+"(number, period)."),a=h,h=g,g=a),h="string"==typeof h?+h:h,b=cp(h,g),d9(this,b,d),this}}function d9(a,n,m,l){var k=n._milliseconds,j=n._days,i=n._months;l=null==l?!0:l,k&&a._d.setTime(+a._d+k*m),j&&ei(a,"Date",ej(a,"Date")+j*m),i&&dL(a,ej(a,"Month")+i*m),l&&dy.updateOffset(a,j||i)}function dr(h,g){var l=h||a8(),k=cA(l,this).startOf("day"),j=this.diff(k,"days",!0),i=-6>j?"sameElse":-1>j?"lastWeek":0>j?"lastDay":1>j?"sameDay":2>j?"nextDay":7>j?"nextWeek":"sameElse";return this.format(g&&g[i]||this.localeData().calendar(i,this,a8(l)))}function cK(){return new df(this)}function ct(f,d){var g;return d=eq("undefined"!=typeof d?d:"millisecond"),"millisecond"===d?(f=c9(f)?f:a8(f),+this>+f):(g=c9(f)?+f:+a8(f),g<+this.clone().startOf(d))}function b7(f,d){var g;return d=eq("undefined"!=typeof d?d:"millisecond"),"millisecond"===d?(f=c9(f)?f:a8(f),+f>+this):(g=c9(f)?+f:+a8(f),+this.clone().endOf(d)<g)}function bM(f,d,g){return this.isAfter(f,g)&&this.isBefore(d,g)}function bv(f,d){var g;return d=eq(d||"millisecond"),"millisecond"===d?(f=c9(f)?f:a8(f),+this===+f):(g=+a8(f),+this.clone().startOf(d)<=g&&g<=+this.clone().endOf(d))}function a9(i,h,n){var m,l,k=cA(i,this),j=60000*(k.utcOffset()-this.utcOffset());return h=eq(h),"year"===h||"month"===h||"quarter"===h?(l=aS(this,k),"quarter"===h?l/=3:"year"===h&&(l/=12)):(m=this-k,l="second"===h?m/1000:"minute"===h?m/60000:"hour"===h?m/3600000:"day"===h?(m-j)/86400000:"week"===h?(m-j)/604800000:m),n?l:c8(l)}function aS(h,g){var l,k,j=12*(g.year()-h.year())+(g.month()-h.month()),i=h.clone().add(j,"months");return 0>g-i?(l=h.clone().add(j-1,"months"),k=(g-i)/(i-l)):(l=h.clone().add(j+1,"months"),k=(g-i)/(l-i)),-(j+k)}function aB(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function af(){var b=this.clone().utc();return 0<b.year()&&b.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():d3(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):d3(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function eV(a){var d=d3(this,a||dy.defaultFormat);return this.localeData().postformat(d)}function ey(d,c){return this.isValid()?cp({to:this,from:d}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}function dH(b){return this.from(a8(),b)}function cS(d,c){return this.isValid()?cp({from:this,to:d}).locale(this.locale()).humanize(!c):this.localeData().invalidDate()}function cB(b){return this.to(a8(),b)}function ck(d){var c;return void 0===d?this._locale._abbr:(c=cV(d),null!=c&&(this._locale=c),this)}function bU(){return this._locale}function bD(b){switch(b=eq(b)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===b&&this.weekday(0),"isoWeek"===b&&this.isoWeekday(1),"quarter"===b&&this.month(3*Math.floor(this.month()/3)),this}function bm(b){return b=eq(b),void 0===b||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")}function a0(){return +this._d-60000*(this._offset||0)}function aJ(){return Math.floor(+this/1000)}function an(){return this._offset?new Date(+this):this._d}function e3(){var b=this;return[b.year(),b.month(),b.date(),b.hour(),b.minute(),b.second(),b.millisecond()]}function eG(){var b=this;return{years:b.year(),months:b.month(),date:b.date(),hours:b.hours(),minutes:b.minutes(),seconds:b.seconds(),milliseconds:b.milliseconds()}}function b4(){return di(this)}function bJ(){return dq({},dk(this))}function bs(){return dk(this).overflow}function a6(d,c){d8(0,[d,d.length],0,c)}function aP(f,d,g){return aT(a8([f,11,31+d-g]),d,g).week}function ay(d){var c=aT(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==d?c:this.add(d-c,"y")}function e9(d){var c=aT(this,1,4).year;return null==d?c:this.add(d-c,"y")}function eS(){return aP(this.year(),1,4)}function ev(){var b=this.localeData()._week;return aP(this.year(),b.dow,b.doy)}function dE(b){return null==b?Math.ceil((this.month()+1)/3):this.month(3*(b-1)+this.month()%3)}function cP(d,c){return"string"!=typeof d?d:isNaN(d)?(d=c.weekdaysParse(d),"number"==typeof d?d:null):parseInt(d,10)}function cy(b){return this._weekdays[b.day()]}function ch(b){return this._weekdaysShort[b.day()]}function bR(b){return this._weekdaysMin[b.day()]}function bA(g){var f,i,h;for(this._weekdaysParse=this._weekdaysParse||[],f=0;7>f;f++){if(this._weekdaysParse[f]||(i=a8([2000,1]).day(f),h="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[f]=new RegExp(h.replace(".",""),"i")),this._weekdaysParse[f].test(g)){return f}}}function bj(d){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=d?(d=cP(d,this.localeData()),this.add(d-c,"d")):c}function aX(d){var c=(this.day()+7-this.localeData()._week.dow)%7;return null==d?c:this.add(d-c,"d")}function aG(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)}function ak(d,c){d8(d,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),c)})}function e0(d,c){return c._meridiemParse}function eD(b){return"p"===(b+"").toLowerCase().charAt(0)}function dS(f,d,g){return f>11?g?"pm":"PM":g?"am":"AM"}function c4(d,c){c[e8]=c6(1000*("0."+d))}function cF(){return this._isUTC?"UTC":""}function co(){return this._isUTC?"Coordinated Universal Time":""}function bY(b){return a8(1000*b)}function ep(){return a8.apply(null,arguments).parseZone()}function ar(g,f,i){var h=this._calendar[g];return"function"==typeof h?h.call(f,i):h}function eK(f){var d=this._longDateFormat[f],g=this._longDateFormat[f.toUpperCase()];return d||!g?d:(this._longDateFormat[f]=g.replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[f])}function d6(){return this._invalidDate}function dn(b){return this._ordinal.replace("%d",b)}function cJ(b){return b}function cs(g,f,j,i){var h=this._relativeTime[j];return"function"==typeof h?h(g,f,j,i):h.replace(/%d/i,g)}function b5(f,d){var g=this._relativeTime[f>0?"future":"past"];return"function"==typeof g?g(d):g.replace(/%s/i,d)}function bK(f){var d,g;for(g in f){d=f[g],"function"==typeof d?this[g]=d:this["_"+g]=d}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function bt(h,g,l,k){var j=cV(),i=dp().set(k,g);return j[l](i,h)}function a7(i,h,n,m,l){if("number"==typeof i&&(h=i,i=void 0),i=i||"",null!=h){return bt(i,h,n,l)}var k,j=[];for(k=0;m>k;k++){j[k]=bt(i,k,n,l)}return j}function aQ(d,c){return a7(d,c,"months",12,"month")}function az(d,c){return a7(d,c,"monthsShort",12,"month")}function ff(d,c){return a7(d,c,"weekdays",7,"day")}function eT(d,c){return a7(d,c,"weekdaysShort",7,"day")}function ew(d,c){return a7(d,c,"weekdaysMin",7,"day")}function dF(){var b=this._data;return this._milliseconds=c0(this._milliseconds),this._days=c0(this._days),this._months=c0(this._months),b.milliseconds=c0(b.milliseconds),b.seconds=c0(b.seconds),b.minutes=c0(b.minutes),b.hours=c0(b.hours),b.months=c0(b.months),b.years=c0(b.years),this}function cQ(g,f,j,i){var h=cp(f,j);return g._milliseconds+=i*h._milliseconds,g._days+=i*h._days,g._months+=i*h._months,g._bubble()}function cz(d,c){return cQ(this,d,c,1)}function ci(d,c){return cQ(this,d,c,-1)}function bS(b){return 0>b?Math.floor(b):Math.ceil(b)}function bB(){var s,r,q,p,n,m=this._milliseconds,l=this._days,k=this._months,j=this._data;return m>=0&&l>=0&&k>=0||0>=m&&0>=l&&0>=k||(m+=86400000*bS(aY(k)+l),l=0,k=0),j.milliseconds=m%1000,s=c8(m/1000),j.seconds=s%60,r=c8(s/60),j.minutes=r%60,q=c8(r/60),j.hours=q%24,l+=c8(q/24),n=c8(bk(l)),k+=n,l-=bS(aY(n)),p=c8(k/12),k%=12,j.days=l,j.months=k,j.years=p,this}function bk(b){return 4800*b/146097}function aY(b){return 146097*b/4800}function aH(g){var f,i,h=this._milliseconds;if(g=eq(g),"month"===g||"year"===g){return f=this._days+h/86400000,i=this._months+bk(f),"month"===g?i:i/12}switch(f=this._days+Math.round(aY(this._months)),g){case"week":return f/7+h/604800000;case"day":return f+h/86400000;case"hour":return 24*f+h/3600000;case"minute":return 1440*f+h/60000;case"second":return 86400*f+h/1000;case"millisecond":return Math.floor(86400000*f)+h;default:throw new Error("Unknown unit "+g)}}function al(){return this._milliseconds+86400000*this._days+this._months%12*2592000000+31536000000*c6(this._months/12)}function e1(b){return function(){return this.as(b)}}function eE(b){return b=eq(b),this[b+"s"]()}function b2(b){return function(){return this._data[b]}}function bH(){return c8(this.days()/7)}function bq(g,f,j,i,h){return h.relativeTime(f||1,!!j,g,i)}function a4(w,v,u){var t=cp(w).abs(),s=av(t.as("s")),r=av(t.as("m")),q=av(t.as("h")),p=av(t.as("d")),n=av(t.as("M")),m=av(t.as("y")),l=s<e6.s&&["s",s]||1===r&&["m"]||r<e6.m&&["mm",r]||1===q&&["h"]||q<e6.h&&["hh",q]||1===p&&["d"]||p<e6.d&&["dd",p]||1===n&&["M"]||n<e6.M&&["MM",n]||1===m&&["y"]||["yy",m];return l[2]=v,l[3]=+w>0,l[4]=u,bq.apply(null,l)}function aN(d,c){return void 0===e6[d]?!1:void 0===c?e6[d]:(e6[d]=c,!0)}function aw(f){var d=this.localeData(),g=a4(this,!f,d);return f&&(g=d.pastFuture(+this,g)),d.postformat(g)}function e7(){var A,z,y,x=eP(this._milliseconds)/1000,w=eP(this._days),v=eP(this._months);A=c8(x/60),z=c8(A/60),x%=60,A%=60,y=c8(v/12),v%=12;var u=y,t=v,s=w,r=z,q=A,p=x,n=this.asSeconds();return n?(0>n?"-":"")+"P"+(u?u+"Y":"")+(t?t+"M":"")+(s?s+"D":"")+(r||q||p?"T":"")+(r?r+"H":"")+(q?q+"M":"")+(p?p+"S":""):"P0D"}var eQ,es,dB=dy.momentProperties=[],cN=!1,cw={},cf={},bP=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,by=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bh={},aV={},aE=/\d/,ai=/\d\d/,eY=/\d{3}/,eB=/\d{4}/,dQ=/[+-]?\d{6}/,c2=/\d\d?/,cE=/\d{1,3}/,cn=/\d{1,4}/,bX=/[+-]?\d{1,6}/,em=/\d+/,aq=/[+-]?\d+/,eJ=/Z|[+-]\d\d:?\d\d/gi,d4=/[+-]?\d+(\.\d{1,3})?/,dl=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,cI={},cr={},b3=0,bI=1,br=2,a5=3,aO=4,ax=5,e8=6;d8("M",["MM",2],"Mo",function(){return this.month()+1}),d8("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)}),d8("MMMM",0,0,function(b){return this.localeData().months(this,b)}),cT("month","M"),dZ("M",c2),dZ("MM",c2,ai),dZ("MMM",dl),dZ("MMMM",dl),dW(["M","MM"],function(d,c){c[bI]=c6(d)-1}),dW(["MMM","MMMM"],function(g,f,j,i){var h=j._locale.monthsParse(g,i,j._strict);null!=h?f[bI]=h:dk(j).invalidMonth=g});var eR="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dD={};dy.suppressDeprecationWarnings=!1;var cO=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cx=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],cg=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bQ=/^\/?Date\((\-?\d+)/i;dy.createFromInputFallback=eM("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))}),d8(0,["YY",2],0,function(){return this.year()%100}),d8(0,["YYYY",4],0,"year"),d8(0,["YYYYY",5],0,"year"),d8(0,["YYYYYY",6,!0],0,"year"),cT("year","y"),dZ("Y",aq),dZ("YY",c2,ai),dZ("YYYY",cn,eB),dZ("YYYYY",bX,dQ),dZ("YYYYYY",bX,dQ),dW(["YYYYY","YYYYYY"],b3),dW("YYYY",function(a,d){d[b3]=2===a.length?dy.parseTwoDigitYear(a):c6(a)}),dW("YY",function(a,d){d[b3]=dy.parseTwoDigitYear(a)}),dy.parseTwoDigitYear=function(b){return c6(b)+(c6(b)>68?1900:2000)};var bz=el("FullYear",!1);d8("w",["ww",2],"wo","week"),d8("W",["WW",2],"Wo","isoWeek"),cT("week","w"),cT("isoWeek","W"),dZ("w",c2),dZ("ww",c2,ai),dZ("W",c2),dZ("WW",c2,ai),dU(["w","ww","W","WW"],function(g,f,i,h){f[h.substr(0,1)]=c6(g)});var bi={dow:0,doy:6};d8("DDD",["DDDD",3],"DDDo","dayOfYear"),cT("dayOfYear","DDD"),dZ("DDD",cE),dZ("DDDD",eY),dW(["DDD","DDDD"],function(f,d,g){g._dayOfYear=c6(f)}),dy.ISO_8601=function(){};var aW=eM("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var b=a8.apply(null,arguments);return this>b?this:b}),aF=eM("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var b=a8.apply(null,arguments);return b>this?this:b});dG("Z",":"),dG("ZZ",""),dZ("Z",eJ),dZ("ZZ",eJ),dW(["Z","ZZ"],function(f,d,g){g._useUTC=!0,g._tzm=cR(f)});var aj=/([\+\-]|\d\d)/gi;dy.updateOffset=function(){};var eZ=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,eC=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;cp.fn=eU.prototype;var b0=eL(1,"add"),bF=eL(-1,"subtract");dy.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var bo=eM("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return void 0===b?this.localeData():this.locale(b)});d8(0,["gg",2],0,function(){return this.weekYear()%100}),d8(0,["GG",2],0,function(){return this.isoWeekYear()%100}),a6("gggg","weekYear"),a6("ggggg","weekYear"),a6("GGGG","isoWeekYear"),a6("GGGGG","isoWeekYear"),cT("weekYear","gg"),cT("isoWeekYear","GG"),dZ("G",aq),dZ("g",aq),dZ("GG",c2,ai),dZ("gg",c2,ai),dZ("GGGG",cn,eB),dZ("gggg",cn,eB),dZ("GGGGG",bX,dQ),dZ("ggggg",bX,dQ),dU(["gggg","ggggg","GGGG","GGGGG"],function(g,f,i,h){f[h.substr(0,2)]=c6(g)}),dU(["gg","GG"],function(a,h,g,f){h[f]=dy.parseTwoDigitYear(a)}),d8("Q",0,0,"quarter"),cT("quarter","Q"),dZ("Q",aE),dW("Q",function(d,c){c[bI]=3*(c6(d)-1)}),d8("D",["DD",2],"Do","date"),cT("date","D"),dZ("D",c2),dZ("DD",c2,ai),dZ("Do",function(d,c){return d?c._ordinalParse:c._ordinalParseLenient}),dW(["D","DD"],br),dW("Do",function(d,c){c[br]=c6(d.match(c2)[0],10)});var a2=el("Date",!0);d8("d",0,"do","day"),d8("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)}),d8("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)}),d8("dddd",0,0,function(b){return this.localeData().weekdays(this,b)}),d8("e",0,0,"weekday"),d8("E",0,0,"isoWeekday"),cT("day","d"),cT("weekday","e"),cT("isoWeekday","E"),dZ("d",c2),dZ("e",c2),dZ("E",c2),dZ("dd",dl),dZ("ddd",dl),dZ("dddd",dl),dU(["dd","ddd","dddd"],function(g,f,i){var h=i._locale.weekdaysParse(g);null!=h?f.d=h:dk(i).invalidWeekday=g}),dU(["d","e","E"],function(g,f,i,h){f[h]=c6(g)});var aL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),au="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),e5="Su_Mo_Tu_We_Th_Fr_Sa".split("_");d8("H",["HH",2],0,"hour"),d8("h",["hh",2],0,function(){return this.hours()%12||12}),ak("a",!0),ak("A",!1),cT("hour","h"),dZ("a",e0),dZ("A",e0),dZ("H",c2),dZ("h",c2),dZ("HH",c2,ai),dZ("hh",c2,ai),dW(["H","HH"],a5),dW(["a","A"],function(f,d,g){g._isPm=g._locale.isPM(f),g._meridiem=f}),dW(["h","hh"],function(f,d,g){d[a5]=c6(f),dk(g).bigHour=!0});var eO=/[ap]\.?m?\.?/i,eo=el("Hours",!0);d8("m",["mm",2],0,"minute"),cT("minute","m"),dZ("m",c2),dZ("mm",c2,ai),dW(["m","mm"],aO);var dz=el("Minutes",!1);d8("s",["ss",2],0,"second"),cT("second","s"),dZ("s",c2),dZ("ss",c2,ai),dW(["s","ss"],ax);var cM=el("Seconds",!1);d8("S",0,0,function(){return ~~(this.millisecond()/100)}),d8(0,["SS",2],0,function(){return ~~(this.millisecond()/10)}),d8(0,["SSS",3],0,"millisecond"),d8(0,["SSSS",4],0,function(){return 10*this.millisecond()}),d8(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),d8(0,["SSSSSS",6],0,function(){return 1000*this.millisecond()}),d8(0,["SSSSSSS",7],0,function(){return 10000*this.millisecond()}),d8(0,["SSSSSSSS",8],0,function(){return 100000*this.millisecond()}),d8(0,["SSSSSSSSS",9],0,function(){return 1000000*this.millisecond()}),cT("millisecond","ms"),dZ("S",cE,aE),dZ("SS",cE,ai),dZ("SSS",cE,eY);var cv;for(cv="SSSS";cv.length<=9;cv+="S"){dZ(cv,em)}for(cv="S";cv.length<=9;cv+="S"){dW(cv,c4)}var b9=el("Milliseconds",!1);d8("z",0,0,"zoneAbbr"),d8("zz",0,0,"zoneName");var bO=df.prototype;bO.add=b0,bO.calendar=dr,bO.clone=cK,bO.diff=a9,bO.endOf=bm,bO.format=eV,bO.from=ey,bO.fromNow=dH,bO.to=cS,bO.toNow=cB,bO.get=eh,bO.invalidAt=bs,bO.isAfter=ct,bO.isBefore=b7,bO.isBetween=bM,bO.isSame=bv,bO.isValid=b4,bO.lang=bo,bO.locale=ck,bO.localeData=bU,bO.max=aF,bO.min=aW,bO.parsingFlags=bJ,bO.set=eh,bO.startOf=bD,bO.subtract=bF,bO.toArray=e3,bO.toObject=eG,bO.toDate=an,bO.toISOString=af,bO.toJSON=af,bO.toString=aB,bO.unix=aJ,bO.valueOf=a0,bO.year=bz,bO.isLeapYear=bf,bO.weekYear=ay,bO.isoWeekYear=e9,bO.quarter=bO.quarters=dE,bO.month=dK,bO.daysInMonth=dJ,bO.week=bO.weeks=ez,bO.isoWeek=bO.isoWeeks=dI,bO.weeksInYear=ev,bO.isoWeeksInYear=eS,bO.date=a2,bO.day=bO.days=bj,bO.weekday=aX,bO.isoWeekday=aG,bO.dayOfYear=cC,bO.hour=bO.hours=eo,bO.minute=bO.minutes=dz,bO.second=bO.seconds=cM,bO.millisecond=bO.milliseconds=b9,bO.utcOffset=bT,bO.utc=bl,bO.local=aZ,bO.parseZone=aI,bO.hasAlignedHourOffset=am,bO.isDST=e2,bO.isDSTShifted=eF,bO.isLocal=dV,bO.isUtcOffset=c7,bO.isUtc=cG,bO.isUTC=cG,bO.zoneAbbr=cF,bO.zoneName=co,bO.dates=eM("dates accessor is deprecated. Use date instead.",a2),bO.months=eM("months accessor is deprecated. Use month instead",dK),bO.years=eM("years accessor is deprecated. Use year instead",bz),bO.zone=eM("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",bC);var bx=bO,bg={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},aU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},aD="Invalid date",ah="%d",eX=/\d{1,2}/,eA={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dO=c3.prototype;dO._calendar=bg,dO.calendar=ar,dO._longDateFormat=aU,dO.longDateFormat=eK,dO._invalidDate=aD,dO.invalidDate=d6,dO._ordinal=ah,dO.ordinal=dn,dO._ordinalParse=eX,dO.preparse=cJ,dO.postformat=cJ,dO._relativeTime=eA,dO.relativeTime=cs,dO.pastFuture=b5,dO.set=bK,dO.months=dP,dO._months=eR,dO.monthsShort=dN,dO._monthsShort=eu,dO.monthsParse=dM,dO.week=aC,dO._week=bi,dO.firstDayOfYear=eW,dO.firstDayOfWeek=ag,dO.weekdays=cy,dO._weekdays=aL,dO.weekdaysMin=bR,dO._weekdaysMin=e5,dO.weekdaysShort=ch,dO._weekdaysShort=au,dO.weekdaysParse=bA,dO.isPM=eD,dO._meridiemParse=eO,dO.meridiem=dS,cX("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(f){var d=f%10,g=1===c6(f%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";return f+g}}),dy.lang=eM("moment.lang is deprecated. Use moment.locale instead.",cX),dy.langData=eM("moment.langData is deprecated. Use moment.localeData instead.",cV);var c0=Math.abs,cD=e1("ms"),cm=e1("s"),bW=e1("m"),ek=e1("h"),ap=e1("d"),eI=e1("w"),d2=e1("M"),dj=e1("y"),cH=b2("milliseconds"),cq=b2("seconds"),b1=b2("minutes"),bG=b2("hours"),bp=b2("days"),a3=b2("months"),aM=b2("years"),av=Math.round,e6={s:45,m:45,h:22,d:26,M:11},eP=Math.abs,er=eU.prototype;er.abs=dF,er.add=cz,er.subtract=ci,er.as=aH,er.asMilliseconds=cD,er.asSeconds=cm,er.asMinutes=bW,er.asHours=ek,er.asDays=ap,er.asWeeks=eI,er.asMonths=d2,er.asYears=dj,er.valueOf=al,er._bubble=bB,er.get=eE,er.milliseconds=cH,er.seconds=cq,er.minutes=b1,er.hours=bG,er.days=bp,er.weeks=bH,er.months=a3,er.years=aM,er.humanize=aw,er.toISOString=e7,er.toString=e7,er.toJSON=e7,er.locale=ck,er.localeData=bU,er.toIsoString=eM("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",e7),er.lang=bo,d8("X",0,0,"unix"),d8("x",0,0,"valueOf"),dZ("x",aq),dZ("X",d4),dW("X",function(f,d,g){g._d=new Date(1000*parseFloat(f,10))}),dW("x",function(f,d,g){g._d=new Date(c6(f))}),dy.version="2.10.6",dx(a8),dy.fn=bx,dy.min=aA,dy.max=fg,dy.utc=dp,dy.unix=bY,dy.months=aQ,dy.isDate=dv,dy.locale=cX,dy.invalid=dh,dy.duration=cp,dy.isMoment=c9,dy.weekdays=ff,dy.parseZone=ep,dy.localeData=cV,dy.isDuration=ex,dy.monthsShort=az,dy.weekdaysMin=ew,dy.defineLocale=cW,dy.weekdaysShort=eT,dy.normalizeUnits=eq,dy.relativeTimeThreshold=aN;var dA=dy;return dA});(function($){var autoload={css:function(files,options){this.fetch(files,function(data){if("css_list" in data){$.each(data.css_list,function(index,value){var element;if($.browser.msie){element=window.document.createStyleSheet(value);$(element).attr({media:"all"})}else{element=$("<link/>").attr({href:value,media:"all",rel:"stylesheet",type:"text/css"}).appendTo("head")}})}});return true},js:function(files,options){this.fetch(files,function(data){var resource={};if("js_list" in data){resource=data.js_list;$.each(data.js_list,function(index,value){$.ajax({url:value,dataType:"script",success:function(){for(var i in resource){if(value==resource[i]){resource.splice(i,1);i--}}if(!resource.length&&options.successCallback){options.successCallback()}},error:function(XMLHttpRequest,textStatus,errorThrown){if(console){console.log(XMLHttpRequest,textStatus,errorThrown)}}})})}});return true},findPath:function(baseFile){baseFile=baseFile.replace(/\./g,"\\.");var collection=$("script"),reg=eval("/^(.*)"+baseFile+"$/"),i,p;for(i=0;i<collection.length;i+=1){p=reg.exec(collection[i].src);if(null!==p){return p[1]}}return null},fetch:function(files,callback){var cssList=[],jsList=[];if(!$.isArray(files)){files=[files]}for(var i in files){if(~files[i].indexOf(".css")){cssList.push(files[i])}else{jsList.push(files[i])}}$.getJSON("/ajax/ajax_fetch_cssjs.php",{css_list:cssList,js_list:jsList},function(data){if(callback){callback(data)}})}};$.autoload={css:function(names,options){var cssPath=(undefined===options.cssPath)?"/css/":options.cssPath,i;options={cssPath:cssPath};if("string"===typeof names){names=[names]}for(i=0;i<names.length;i+=1){names[i]=options.cssPath+names[i]}autoload.css(names,options)},js:function(names,options){var i;options.jsPath=(undefined===options.jsPath)?"/js/":options.jsPath;if("string"===typeof names){names=[names]}for(i=0;i<names.length;i+=1){names[i]=options.jsPath+names[i]}autoload.js(names,options)},fetch:function(files,callback){autoload.fetch(files,callback)}}})(jQuery);(function(b){var a=window.console?window.console:{log:b.noop,error:function(d){b.error(d)}};function c(){this.controls={insertImage:{groupIndex:0,className:"t-image",visible:true,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.image){b.mfweditor.controls.image.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.compress.js",function(){d.controls.insertImage.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.image not defined. You need to include mfweditor.image.js file")}}},tags:["img"],text:"",tooltip:" "},insertWengImage:{groupIndex:0,className:"t-wengImage",visible:false,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.wengImage){b.mfweditor.controls.wengImage.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.weng.image.js",function(){d.controls.insertWengImage.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.wengImage not defined. You need to include mfweditor.weng.image.js file")}}},tags:["img"],text:"",tooltip:" "},insertVideo:{groupIndex:0,className:"t-video",visible:true,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.video){b.mfweditor.controls.video.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.video.js",function(){d.controls.insertVideo.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.link not defined. You need to include mfweditor.link.js file")}}},text:"",tooltip:" "},insertLink:{groupIndex:0,className:"t-link",visible:true,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.link){b.mfweditor.controls.link.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.link.js",function(){d.controls.insertLink.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.link not defined. You need to include mfweditor.link.js file")}}},tags:["a"],text:"",tooltip:" "},insertEmotion:{groupIndex:0,className:"t-emotion",visible:true,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.emotion){b.mfweditor.controls.emotion.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.emotion.js",function(){d.controls.insertEmotion.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.emotion not defined. You need to include mfweditor.link.js file")}}},text:"",tooltip:" "},callName:{groupIndex:1,className:"t-callname",visible:true,exec:function(f){var d=this;if(b.mfweditor.controls&&b.mfweditor.controls.callname){b.mfweditor.controls.callname.init(this,f)}else{if(b.mfweditor.autoload){b.mfweditor.autoload.js("mfweditor.callname.js",function(){d.controls.callName.exec.apply(d,[f])})}else{a.error("$.mfweditor.controls.callname not defined. You need to include mfweditor.link.js file")}}},text:"",tooltip:""},saveContent:{groupIndex:2,className:"t-save",visible:true,exec:function(){var d=this;d.saveContent()},text:"",tooltip:""},clearContent:{groupIndex:2,className:"t-clear",visible:true,exec:function(){var d=this;d.clearSaveContent()},text:"",tooltip:""}};this.defaults={html:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body></body></html>',debug:false,controls:{},events:{},css:"",autoGrow:true,autoSave:true,autoSaveTime:30000,formHeight:270,formWidth:440,initialContent:"",maxHeight:530,maxLength:0,toolbarHtml:'<div class="mfweditor-toolbar"></div>',toolbarTipHtml:'<div class="mfweditor-toolbar-tip"></div>',toolbarGroupHtml:'<ul class="mfweditor-toolbar-group"></ul>',replaceDivWithP:true,removeUnwantedBr:true,removeUnusedControls:false,initialMinHeight:null,plugins:{autoload:true,removeFormat:{removeMsWordMarkup:true}}};this.availableControlProperties=["groupIndex","className","object","visible","exec","hotkey","command","custom","tags","text","tooltip"];this.editor=null;this.editorDoc=null;this.editorDialog=null;this.uploadImages=null;this.element=null;this.options={};this.original=null;this.savedRange=null;this.timers=[];this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46];this.isDestroyed=false;this.dom={ie:{parent:null},w3c:{parent:null}};this.dom.parent=this;this.dom.ie.parent=this.dom;this.dom.w3c.parent=this.dom;this.ui={};this.ui.self=this;this.ui.toolbar=null;this.ui.toolbarTip=null;this.ui.initialHeight=null;this.ui.dialogX=null;this.ui.dialogY=null;this.dom.getAncestor=function(d,f){f=f.toLowerCase();while(d&&typeof d.tagName!="undefined"&&"body"!==d.tagName.toLowerCase()){if(f===d.tagName.toLowerCase()){return d}d=d.parentNode}if(!d.tagName&&(d.previousSibling||d.nextSibling)){if(d.previousSibling){if(d.previousSibling.tagName.toLowerCase()==f){return d.previousSibling}}if(d.nextSibling){if(d.nextSibling.tagName.toLowerCase()==f){return d.nextSibling}}}return null};this.dom.getElement=function(f){var d=this;f=f.toLowerCase();if(window.getSelection){return d.w3c.getElement(f)}else{return d.ie.getElement(f)}};this.dom.ie.getElement=function(i){var h=this.parent,g=h.parent.getInternalSelection(),d=g.createRange(),f;if("Control"===g.type){if(1===d.length){f=d.item(0)}else{return null}}else{f=d.parentElement()}return h.getAncestor(f,i)};this.dom.w3c.getElement=function(h){var g=this.parent,d=g.parent.getInternalSelection(),f;if(!d){return null}f=d.commonAncestorContainer;if(3===f.nodeType){f=f.parentNode}if(f===d.startContainer){f=f.childNodes[d.startOffset]}if(!f.tagName&&(f.previousSibling||f.nextSibling)){if(f.previousSibling){if(f.previousSibling.tagName.toLowerCase()==h){return f.previousSibling}}if(f.nextSibling){if(f.nextSibling.tagName.toLowerCase()==h){return f.nextSibling}}}return g.getAncestor(f,h)};this.ui.initFrame=function(){var d=this.self,g,h,f;d.ui.appendControls();d.element.append(d.ui.toolbar).append(b("<div><!-- --></div>").css({clear:"both"})).append(b('<div class="mfweditor-wrap"></div>').append(d.editor));d.editorDoc=d.innerDocument();if(d.isDestroyed){return null}d.ui.designMode();d.editorDoc.open();d.editorDoc.write(d.wrapInitialContent());d.editorDoc.close();b.mfweditor.plugin.bind(d);b(d.editorDoc).trigger("initFrame.mfweditor");b(d.original).focus(function(){if(b(this).filter(":visible").length===0){return}d.ui.focus()});b(d.editorDoc).keydown(function(i){var j;if(i.keyCode===8){j=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/;if(j.test(d.getContent())){i.stopPropagation();return false}}d.editorDoc.rememberCommand=false;return true});if(d.options.plugins.removeFormat.removeMsWordMarkup){b(d.editorDoc).bind("keyup",function(i){if(i.ctrlKey||i.metaKey){if(86===i.keyCode){if(b.mfweditor.removeFormat){if("object"===typeof(d.options.plugins.removeFormat.removeMsWordMarkup)){b.mfweditor.removeFormat.run(d,{rules:{msWordMarkup:d.options.plugins.removeFormat.removeMsWordMarkup}})}else{b.mfweditor.removeFormat.run(d,{rules:{msWordMarkup:{enabled:true}}})}}}}})}if(d.initialContent.length===0){if("function"===typeof(d.options.initialContent)){d.setContent(d.options.initialContent())}else{d.setContent(d.options.initialContent)}}if(d.options.autoGrow){if(d.options.initialMinHeight!=null){d.ui.initialHeight=d.options.initialMinHeight}else{d.ui.initialHeight=b(d.editorDoc).height()}b(d.editorDoc.body).css("border","1px solid white");h=function(){d.ui.grow()};b(d.editorDoc).keyup(h).click(h);b(d.editorDoc).bind("editorRefresh.mfweditor",h);d.ui.grow()}if(d.options.css&&String===d.options.css.constructor){b.autoload.fetch(d.options.css,function(i){if("css_list" in i){b.each(i.css_list,function(j,k){if(b.browser.msie){g=d.editorDoc.createStyleSheet(k);b(g).attr({media:"all"})}else{g=b("<link/>").attr({href:k,media:"all",rel:"stylesheet",type:"text/css"});b(d.editorDoc).find("head").append(g)}})}})}if(d.options.maxLength>0){b(d.editorDoc).keydown(function(i){if(b(d.editorDoc).text().length>=d.options.maxLength&&b.inArray(i.which,d.validKeyCodes)===-1){i.preventDefault()}})}b.each(d.options.events,function(i,j){b(d.editorDoc).bind(i+".mfweditor",function(k){j.apply(d.editorDoc,[k,d])})});if(b.browser.msie){b(d.editorDoc).bind("beforedeactivate.mfweditor",function(){d.savedRange=d.getInternalRange()})}else{b(d.editorDoc).bind("blur.mfweditor",function(){d.savedRange=d.getInternalRange()})}b(d.editorDoc).bind("click.mfweditor",function(){if(d.editorDialog){d.editorDialog.close();d.editorDialog=null}});b(d.original).trigger("ready.mfweditor",[d.editorDoc,d])};this.ui.designMode=function(){var f=3,d=this.self,g;g=function(h){if("on"===d.editorDoc.designMode){if(d.timers.designMode){window.clearTimeout(d.timers.designMode)}if(d.innerDocument()!==d.editorDoc){d.ui.initFrame()}return}try{d.editorDoc.designMode="on"}catch(i){}h-=1;if(h>0){d.timers.designMode=window.setTimeout(function(){g(h)},100)}};g(f)};this.ui.grow=function(){var f=this.self,i=b(f.editorDoc.body),h=b.browser.msie?i[0].scrollHeight:i.height()+2,g=f.ui.initialHeight,d=Math.max(h,g);d=Math.min(d,f.options.maxHeight);f.editor.attr("scrolling",d<f.options.maxHeight?"no":"auto");i.css("overflow",d<f.options.maxHeight?"hidden":"");f.editor.get(0).height=d;return f};this.ui.appendControls=function(){var m=this,h=this.self,g=h.parseControls(),d=[],f={},j,k,l=function(n,i){if(!i.visible){return}m.appendItem(n,i).appendTo(j)};b.each(g,function(n,p){var i="empty";if(undefined!==p.groupIndex){if(""===p.groupIndex){i="empty"}else{i=p.groupIndex}}if(undefined===f[i]){d.push(i);f[i]={}}f[i][n]=p});d.sort(function(n,i){if("number"===typeof(n)&&typeof(n)===typeof(i)){return(n-i)}else{n=n.toString();i=i.toString();if(n>i){return 1}if(n===i){return 0}return -1}});h.ui.toolbarTip=b(h.options.toolbarTipHtml).appendTo(h.ui.toolbar);for(k=0;k<d.length;k+=1){j=b(h.options.toolbarGroupHtml).appendTo(h.ui.toolbar);b.each(f[d[k]],l)}};this.ui.appendItem=function(f,i){var d=this.self,g=i.className||i.command||f||"empty",h=i.tooltip||i.command||f||"",j=i.text||"";return b('<li role="menuitem">'+(j)+"</li>").addClass(g).attr("title",h).hover(this.addHoverClass,this.removeHoverClass).click(function(l){if(b(this).hasClass("disabled")){return false}var k=b(l.target);d.triggerControl.apply(d,[f,i,k]);this.blur();d.ui.returnRange();d.ui.focus();return true})};this.ui.withoutCss=function(){var d=this.self;if(b.browser.mozilla){try{d.editorDoc.execCommand("styleWithCSS",false,false)}catch(g){try{d.editorDoc.execCommand("useCss",false,true)}catch(f){}}}return d};this.ui.addHoverClass=function(){b(this).addClass("hover")};this.ui.removeHoverClass=function(){b(this).removeClass("hover")};this.ui.focus=function(){var d=this.self;d.editor.get(0).contentWindow.focus();return d};this.ui.returnRange=function(){var d=this.self,f;if(d.savedRange!==null){if(window.getSelection){f=window.getSelection();if(f.rangeCount>0){f.removeAllRanges()}try{f.addRange(d.savedRange)}catch(g){a.error(g)}}else{if(window.document.createRange){window.getSelection().addRange(d.savedRange)}else{if(window.document.selection){d.savedRange.select()}}}d.savedRange=null}};this.init=function(h,g){var f=this,j=b(h).closest("form"),k=(b(h).attr("width")||b(h).width()||0),i=(b(h).attr("height")||b(h).height()||0);this.options=this.extendOptions(g);this.original=h;this.ui.toolbar=b(this.options.toolbarHtml);if(b.browser.msie&&parseInt(b.browser.version,10)<9){this.options.autoGrow=false}if(k===0&&h.cols){k=(h.cols*8)+21}if(i===0&&h.rows){i=(h.rows*16)+16}this.editor=b("<iframe></iframe>").attr("frameborder","0");this.editor.css({minHeight:(i-6).toString()+"px",width:(k>50)?(k-6).toString()+"px":""});if(b.browser.msie&&parseInt(b.browser.version,10)<7){this.editor.css("height",i.toString()+"px")}if(h.id){var d=h.id+"-mfwediter-iframe";if(!document.getElementById(d)){this.editor.attr("id",d)}}this.editor.attr("tabindex",b(h).attr("tabindex"));this.element=b("<div/>").addClass("mfweditor");this.element.css({width:(k>0)?k.toString()+"px":"100%"});b(h).hide().before(this.element);this.initialContent=b(h).val();this.ui.initFrame();if(this.options.autoSave){f.timers.autoSave=window.setInterval(function(){f.autoSaveFunc()},f.options.autoSaveTime)}b(f.editorDoc).keyup(function(){f.syncContent()}).mousedown(function(){f.syncContent()});j.bind("reset.mfweditor",function(){f.resetFunc()})};this.destroy=function(){this.isDestroyed=true;var d,f=this.element.closest("form");for(d=0;d<this.timers.length;d+=1){window.clearTimeout(this.timers[d])}f.unbind(".mfweditor");this.element.remove();b.removeData(this.original,"mfweditor");b(this.original).show();return this};this.innerDocument=function(){var d=this.editor.get(0);if(d.nodeName.toLowerCase()==="iframe"){if(d.contentDocument){return d.contentDocument}else{if(d.contentWindow){return d.contentWindow.document}}if(this.isDestroyed){return null}}return d};this.wrapInitialContent=function(){var d=this.initialContent,f=d.match(/<\/?p>/gi);if(!f){return"<p>"+d+"</p>"}return d};this.parseControls=function(){var d=this;b.each(this.options.controls,function(g,f){b.each(f,function(h){if(-1===b.inArray(h,d.availableControlProperties)){throw g+'["'+h+'"]: property "'+h+'" not exist in mfweditor.availableControlProperties'}})});if(this.options.parseControls){return this.options.parseControls.call(this)}return this.options.controls};this.extendOptions=function(f){var d={};if("object"===typeof f.controls){d=f.controls;delete f.controls}f=b.extend(true,{},this.defaults,f);f.controls=b.extend(true,{},d,this.controls,d);if(f.removeUnusedControls){b.each(f.controls,function(g){if(!d[g]){delete f.controls[g]}})}return f};this.setContent=function(d){this.editorDoc.body.innerHTML=d;return this};this.triggerControl=function(g,j,f){var h=j.command||g,d=j["arguments"]||[];if(j.exec){j.exec.apply(this,[f])}else{this.ui.focus();this.ui.withoutCss();try{this.editorDoc.execCommand(h,false,d)}catch(i){a.error(i)}}};this.autoSaveFunc=function(){this.saveContent()};this.syncContent=function(){if(this.original){var f,d;f=this.getContent();if(this.options.removeUnwantedBr){f=f.replace(/<br\/?>$/,"")}if(this.options.replaceDivWithP){d=b("<div/>").addClass("temp").append(f);d.children("div").each(function(){var h=b(this),j=h.find("p"),g;if(0===j.length){j=b("<p></p>");if(this.attributes.length>0){for(g=0;g<this.attributes.length;g+=1){j.attr(this.attributes[g].name,h.attr(this.attributes[g].name))}}j.append(h.html());h.replaceWith(j)}});f=d.html()}b(this.original).val(f).text(f)}return this};this.resetFunc=function(){this.setContent(this.options.initialContent)};this.clearSaveContent=function(){if(this.original){if(this.options.events&&this.options.events.clear){this.options.events.clear.call(this)}}};this.saveContent=function(){if(this.original){var f,d;f=this.getContent();if(this.options.removeUnwantedBr){f=f.replace(/<br\/?>$/,"")}if(this.options.replaceDivWithP){d=b("<div/>").addClass("temp").append(f);d.children("div").each(function(){var h=b(this),j=h.find("p"),g;if(0===j.length){j=b("<p></p>");if(this.attributes.length>0){for(g=0;g<this.attributes.length;g+=1){j.attr(this.attributes[g].name,h.attr(this.attributes[g].name))}}j.append(h.html());h.replaceWith(j)}});f=d.html()}b(this.original).val(f).text(f);if(this.options.events&&this.options.events.save){this.options.events.save.call(this)}}return this};this.getInternalRange=function(){var d=this.getInternalSelection();if(!d){return null}if(d.rangeCount&&d.rangeCount>0){return d.getRangeAt(0)}else{if(d.createRange){return d.createRange()}}return null};this.getRange=function(){var d=this.getSelection();if(!d){return null}if(d.rangeCount&&d.rangeCount>0){return d.getRangeAt(0)}else{if(d.createRange){return d.createRange()}}return null};this.getRangeText=function(){var d=this.getInternalRange();if(d.toString){d=d.toString()}else{if(d.text){d=d.text}}return d},this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection){return this.editor.get(0).contentWindow.getSelection()}if(this.editor.get(0).contentWindow.selection){return this.editor.get(0).contentWindow.selection}}if(this.editorDoc.getSelection){return this.editorDoc.getSelection()}if(this.editorDoc.selection){return this.editorDoc.selection}return null};this.insertHtml=function(d){var h=this,g,f;if(!d||d.length===0){return this}if(navigator.userAgent.match(/Trident\/7\./)){b.browser.msie=true}if(b.browser.msie){this.ui.focus();this.editorDoc.execCommand("insertImage",false,"#jmfweditor");g=this.getElementByAttributeValue("img","src","#jmfweditor");if(g){b(g).replaceWith(d)}}else{if(b.browser.mozilla){var i=d.replace(/\s/g,"&nbsp;");i=i.replace("&","");i=i.replace("","");if(1===b(i).length){f=this.getInternalRange();f.deleteContents();f.insertNode(b(d).get(0))}else{this.editorDoc.execCommand("insertHTML",false,d)}}else{if(!this.editorDoc.execCommand("insertHTML",false,d)){this.editor.focus();this.editorDoc.execCommand("insertHTML",false,d)}}}if(h.options.autoGrow){h.ui.grow()}};this.getElementByAttributeValue=function(g,d,h){var f,k,j=this.editorDoc.getElementsByTagName(g);for(f=0;f<j.length;f+=1){k=j[f].getAttribute(d);if(b.browser.msie){k=k.substr(k.length-h.length)}if(k===h){return j[f]}}return false};this.getContent=function(){return this.events.filter("getContent",this.editorDoc.body.innerHTML)};this.events={_events:{},bind:function(d,f){if(typeof(this._events.eventName)!=="object"){this._events[d]=[]}this._events[d].push(f)},trigger:function(d,f){if(typeof(this._events.eventName)==="object"){var g=this.editor;b.each(this._events[d],function(i,h){if(typeof(h)==="function"){h.apply(g,f)}})}},filter:function(d,h){if(typeof(this._events[d])==="object"){var g=this.editor,f=Array.prototype.slice.call(arguments,1);b.each(this._events[d],function(j,i){if(typeof(i)==="function"){h=i.apply(g,f)}})}return h}}}b.mfweditor={init:function(f,d){return f.each(function(){var g=b.extend(true,{},d),h;if(("textarea"!==this.nodeName.toLowerCase())||b(this).data("mfweditor")){return}h=new c();h.init(this,g);b.data(this,"mfweditor",h)})},destroy:function(d){return d.each(function(){var f=b(this).data("mfweditor");if(!f){return this}f.destroy()})},document:function(d){var f=d.data("mfweditor");if(!f){return undefined}return b(f.editorDoc)},getDialog:function(d){var f=d.data("mfweditor");if(!f){return undefined}return b(f.editorDialog)},getFocus:function(d){return d.each(function(){var f=b(this).data("mfweditor");if(!f){return this}f.ui.focus()})},addControl:function(f,d,g){return f.each(function(){var j=b(this).data("mfweditor"),i={},h;if(!j){return this}i[d]=b.extend(true,{visible:true,custom:true},g);b.extend(true,j.options.controls,i);h=b(this.options.toolbarHtml);j.ui.toolbar.replaceWith(h);j.ui.toolbar=h;j.ui.appendControls()})},insertHtml:function(f,d){return f.each(function(){var g=b(this).data("mfweditor");if(!g){return this}g.insertHtml(d)})},getContent:function(d){var f=d.data("mfweditor");if(!f){return undefined}return f.getContent()},setContent:function(f,d){return f.each(function(){var g=b(this).data("mfweditor");if(!g){return this}g.setContent(d)})},resetContent:function(d){return d.each(function(){var f=b(this).data("mfweditor");if(!f){return this}f.resetFunc()})},getSelection:function(d){var f=d.data("mfweditor");if(!f){return undefined}return f.getRangeText()},save:function(d){return d.each(function(){var f=b(this).data("mfweditor");if(!f){return this}f.saveContent()})},selectAll:function(f){var h=f.data("mfweditor"),d,i,g;if(!h){return this}d=h.editorDoc.body;if(window.getSelection){g=h.getInternalSelection();g.selectAllChildren(d)}else{i=d.createTextRange();i.moveToElementText(d);i.select()}},plugin:{listeners:{},bind:function(f){var d=this;b.each(this.listeners,function(k,g){var h,j;for(h=0;h<g.length;h+=1){j=d.parseName(g[h]);b(f.editorDoc).bind(k+".mfweditor",{plugin:j},function(i){b.mfweditor[i.data.plugin.name][i.data.plugin.method].apply(b.mfweditor[i.data.plugin.name],[f])})}})},exists:function(d){var f;if("string"!==typeof(d)){return false}f=this.parseName(d);if(!b.mfweditor[f.name]||!b.mfweditor[f.name][f.method]){return false}return true},listen:function(g,d){var f;f=this.parseName(d);if(!b.mfweditor[f.name]||!b.mfweditor[f.name][f.method]){return false}if(!this.listeners[g]){this.listeners[g]=[]}this.listeners[g].push(d);return true},parseName:function(d){var f;if("string"!==typeof(d)){return false}f=d.split(".");if(2>f.length){return false}return{name:f[0],method:f[1]}},register:function(d){if(!d.name){a.error("Plugin name is missing")}b.each(b.mfweditor,function(f){if(f===d.name){a.error("Plugin with name '"+d.name+"' was already registered")}});b.mfweditor[d.name]=d;return true}}};b.mfweditor.dialog=function(j,g){var i=g.theme?g.theme:"default",h=new b.mfweditor.dialog.createDialog(i),f=this,d=b(f);this.options={modal:false,draggable:false,content:"",zIndex:2000,left:0,top:0,width:600,open:false,close:false};this.isOpen=false;b.extend(this.options,g);this.object=h;this.popkey=null;this.open=function(){this.isOpen=true;h.init.apply(f,[]);var k=h.show.apply(f,[]);d.trigger("afterOpen",[k])};this.show=function(){this.isOpen=true;d.trigger("beforeShow");var k=h.show.apply(f,[]);d.trigger("afterShow")};this.hide=function(){this.isOpen=false;d.trigger("beforeHide");var k=h.hide.apply(f,[]);d.trigger("afterHide",[k])};this.close=function(){this.isOpen=false;var k=h.hide.apply(f,[]);d.trigger("beforeClose",[k]);h.destroy.apply(f,[]);d.trigger("afterClose",[k])};if(this.options.open){d.bind("afterOpen",this.options.open)}if(this.options.close){d.bind("afterClose",this.options.close)}return this};b.extend(true,b.mfweditor.dialog,{_themes:{},_theme:"",register:function(d,f){b.mfweditor.dialog._themes[d]=f},deregister:function(d){delete b.mfweditor.dialog._themes[d]},createDialog:function(d){return new (b.mfweditor.dialog._themes[d])},getDimensions:function(){var f=document.body.scrollWidth,d=document.body.scrollHeight;if(b.browser.opera){d=Math.max(b(document).height(),b(window).height(),document.documentElement.clientHeight)}return[f,d]}});b(function(){b.mfweditor.dialog.register("default",function(){var d=this;this.$dialog=null;this.init=function(){var f=this.options.content;if(typeof f==="object"){if(typeof f.html==="function"){f=f.html()}else{if(typeof f.toString==="function"){f=f.toString()}}}d.$dialog=b('<div class="mfweditor-pop"></div>').css({"z-index":this.options.zIndex,position:"absolute"});var g=b('<div class="d-cont">'+f+"</div>");d.$dialog.append(g).hide();b("body").append(d.$dialog);d.$dialog.css({left:this.options.left,top:this.options.top});return d.$dialog};this.show=function(){if(this.options.modal){var f=b.mfweditor.dialog.getDimensions(),g=b('<div class="mfweditor-shade"></div>').css({width:f[0],height:f[1],"z-index":this.options.zIndex-1});d.$dialog.after(g);b(window).bind("resize",function(){var h=b.mfweditor.dialog.getDimensions();g.css({width:h[0],height:h[1]})})}d.$dialog.show();return d.$dialog};this.hide=function(){d.$dialog.hide();return d.$dialog};this.destroy=function(){if(this.options.modal){d.$dialog.next().remove()}b(window).unbind("resize");d.$dialog.remove();return d.$dialog}});b.mfweditor.dialog.register("float",function(){var d=this;this.$dialog=null;this.init=function(){var f=this.options.content;if(typeof f==="object"){if(typeof f.html==="function"){f=f.html()}else{if(typeof f.toString==="function"){f=f.toString()}}}d.$dialog=b('<div class="mfweditor-pop"></div>').css({"z-index":this.options.zIndex,position:"fixed",width:this.options.width});if(b.browser.msie&&parseInt(b.browser.version,10)<7){d.$dialog.css("position","absolute");b(window).scroll(function(){})}var g=b('<div class="d-cont">'+f+"</div>");d.$dialog.append(g).hide();b("body").append(d.$dialog);d.$dialog.css({left:((b(window).width()-d.$dialog.width())/2),top:(b.browser.msie&&parseInt(b.browser.version,10)<7)?(b("html").scrollTop()+((b(window).height()-d.$dialog.height())/3)):((b(window).height()-d.$dialog.height())/3)});b(window).bind("resize",function(){d.$dialog.css({left:((b(window).width()-d.$dialog.width())/2),top:(b.browser.msie&&parseInt(b.browser.version,10)<7)?(b("html").scrollTop()+((b(window).height()-d.$dialog.height())/3)):((b(window).height()-d.$dialog.height())/3)})});if(b.browser.msie&&parseInt(b.browser.version,10)<7){b(window).bind("scroll",function(){d.$dialog.css({top:b("html").scrollTop()+((b(window).height()-d.$dialog.height())/3)})})}return d.$dialog};this.show=function(){if(this.options.modal){b("body").css("overflow","hidden");var f=b.mfweditor.dialog.getDimensions(),g=b('<div class="mfweditor-shade"></div>').css({width:f[0],height:f[1],"z-index":this.options.zIndex-1});d.$dialog.after(g);b(window).bind("resize",function(){var h=b.mfweditor.dialog.getDimensions();g.css({width:h[0],height:h[1]})})}d.$dialog.show();return d.$dialog};this.hide=function(){d.$dialog.hide();return d.$dialog};this.destroy=function(){if(this.options.modal){b("body").css("overflow","auto");d.$dialog.next().remove()}b(window).unbind("resize");d.$dialog.remove();return d.$dialog}});b.mfweditor.dialog.register("addp",function(){var d=this;this.$dialog=null;this.init=function(){var g=this.options.content;if(typeof g==="object"){if(typeof g.html==="function"){g=g.html()}else{if(typeof g.toString==="function"){g=g.toString()}}}d.$dialog=b('<div style="display:none">                                    <div class="viewer-layer" style="position:fixed; _position:absolute"></div>                                    <div class="popup-box pop-addp _j_popbox" style="margin:0">                                        <a class="close-btn _j_close" href="javascript:void(0);"><i></i></a>                                        <div class="pop-ctn"><p class="hd _j_title"> </p><div class="_j_content" style="background:#fff">'+g+"</div></div>                                    </div>                                </div>");b("body").append(d.$dialog);var f=d.$dialog.find("._j_popbox");f.css({left:((b(window).width()-f.width())/2),top:(b.browser.msie&&parseInt(b.browser.version,10)<7)?(b("html").scrollTop()+((b(window).height()-460)/3)):((b(window).height()-460)/3)});b(window).bind("resize",function(){f.css({left:((b(window).width()-f.width())/2),top:(b.browser.msie&&parseInt(b.browser.version,10)<7)?(b("html").scrollTop()+((b(window).height()-460)/3)):((b(window).height()-460)/3)})});if(b.browser.msie&&parseInt(b.browser.version,10)<7){b(window).bind("scroll",function(){f.css({top:b("html").scrollTop()+((b(window).height()-460)/3)})})}f.delegate("._j_close","click",b.proxy(function(h){h.preventDefault();d.destroy.call(this)},this));return d.$dialog};this.show=function(){d.$dialog.show();return d.$dialog};this.hide=function(){d.$dialog.hide();return d.$dialog};this.destroy=function(){if(this.options.modal){b("body").css("overflow","auto")}b(window).unbind("resize");if(d.$dialog){d.$dialog.remove()}return d.$dialog}})});b.fn.mfweditor=function(g){var d=arguments,f;if("undefined"!==typeof b.mfweditor[g]){d=Array.prototype.concat.call([d[0]],[this],Array.prototype.slice.call(d,1));return b.mfweditor[g].apply(b.mfweditor,Array.prototype.slice.call(d,1))}else{if("object"===typeof g||!g){Array.prototype.unshift.call(d,this);return b.mfweditor.init.apply(b.mfweditor,d)}else{if(b.mfweditor.plugin.exists(g)){f=b.mfweditor.plugin.parseName(g);d=Array.prototype.concat.call([d[0]],[this],Array.prototype.slice.call(d,1));return b.mfweditor[f.name][f.method].apply(b.mfweditor[f.name],Array.prototype.slice.call(d,1))}else{a.error("Method '"+g+"' does not exist in mfweditor!")}}}}})(jQuery);(function(b){if(undefined===b.mfweditor){throw"mfweditor.autoload.js depends on $.mfweditor"}if(undefined===b.autoload){throw"mfweditor.autoload.js depends on $.autoload"}var a={name:"autoload",version:"",defaults:{cssPath:"",jsPath:"/js/mfweditor/plugins/"},options:{},css:function(c){b.autoload.css(c,this.options)},js:function(d,c){b.autoload.js(d,{jsPath:this.options.jsPath,successCallback:c})},init:function(d){if(!d.options.plugins[this.name]){return true}var c;this.options=b.extend(true,this.defaults,d.options.plugins[this.name]);if(this.options.css){for(c=0;c<this.options.css.length;c+=1){this.css(this.options.css[c])}}}};b.mfweditor.plugin.register(a);b.mfweditor.plugin.listen("initFrame","autoload.init")})(jQuery);var K=this.K||{};K.Resource=K.Resource||{};K.error=function(b,a){a=a||Error;throw new a(b)};K.global=this;(function(m){var h=Array.prototype,x=Object.prototype,y=Function.prototype;var q=h.slice,t=h.unshift,s=x.toString,p=x.hasOwnProperty;var n=h.forEach,g=h.map,v=h.reduce,d=h.reduceRight,l=h.filter,a=h.every,u=h.some,r=h.indexOf,f=h.lastIndexOf,c=Array.isArray,w=Object.keys,k=Object.create,i=y.bind;m.log=function(){if("console" in window&&"log" in window.console){var z=arguments.length;if(z==1){window.console.log(arguments[0])}else{if(z==2){window.console.log(arguments[0],arguments[1])}}}else{if(window.opera&&window.opera.postError){window.opera.postError.apply(window.opera,arguments)}}};var b={};m.forEach=function(E,D,C){if(E==null){return}if(n&&E.forEach===n){E.forEach(D,C)}else{if(m.isNumber(E.length)){for(var B=0,z=E.length;B<z;B++){if(D.call(C,E[B],B,E)==b){return}}}else{for(var A in E){if(p.call(E,A)){if(D.call(C,E[A],A,E)===b){return}}}}}};m.map=function(C,B,A){var z=[];if(C==null){return z}if(g&&C.map===g){return C.map(B,A)}m.forEach(C,function(F,D,E){z[z.length]=B.call(A,F,D,E)});return z};m.reduce=function(D,C,z,B){var A=z!==void 0;if(D==null){D=[]}if(v&&D.reduce===v){if(B){C=m.bind(C,B)}return A?D.reduce(C,z):D.reduce(C)}m.forEach(D,function(G,E,F){if(!A&&E===0){z=G;A=true}else{z=C.call(B,z,G,E,F)}});if(!A){throw new TypeError("Reduce of empty array with no initial value")}return z};m.reduceRight=function(C,B,z,A){if(C==null){C=[]}if(d&&C.reduceRight===d){if(A){B=m.bind(B,A)}return z!==void 0?C.reduceRight(B,z):C.reduceRight(B)}var D=(m.isArray(C)?C.slice():m.toArray(C)).reverse();return m.reduce(D,B,z,A)};m.detect=function(C,B,A){var z;m.some(C,function(F,D,E){if(B.call(A,F,D,E)){z=F;return true}});return z};m.filter=function(C,B,A){var z=[];if(C==null){return z}if(l&&C.filter===l){return C.filter(B,A)}m.forEach(C,function(F,D,E){if(B.call(A,F,D,E)){z[z.length]=F}});return z};m.every=function(C,B,A){var z=true;if(C==null){return z}if(a&&C.every===a){return C.every(B,A)}m.forEach(C,function(F,D,E){if(!(z=z&&B.call(A,F,D,E))){return b}});return z};m.some=function(C,B,A){B||(B=m.identity);var z=false;if(C==null){return z}if(u&&C.some===u){return C.some(B,A)}m.forEach(C,function(F,D,E){if(B.call(A,F,D,E)){z=true;return b}});return z};m.contains=function(B,A){var z=false;if(B==null){return z}if(r&&B.indexOf===r){return B.indexOf(A)!=-1}m.some(B,function(C){if(z=C===A){return true}});return z};m.pluck=function(A,z){return m.map(A,function(B){return B[z]})};m.sortBy=function(B,A,z){return m.pluck(m.map(B,function(E,C,D){return{value:E,criteria:A.call(z,E,C,D)}}).sort(function(F,E){var D=F.criteria,C=E.criteria;return D<C?-1:D>C?1:0}),"value")};m.sortedIndex=function(E,D,B){B||(B=m.identity);var z=0,C=E.length;while(z<C){var A=(z+C)>>1;B(E[A])<B(D)?z=A+1:C=A}return z};m.toArray=function(z){if(!z){return[]}if(z.toArray){return z.toArray()}if(m.isArray(z)){return z}if(m.isArguments(z)){return q.call(z)}return m.values(z)};m.last=function(A){var z=A.length;return z>0?A[z-1]:undefined};m.compact=function(z){return m.filter(z,function(A){return !!A})};m.flatten=function(z){return m.reduce(z,function(A,B){if(m.isArray(B)){return A.concat(m.flatten(B))}A[A.length]=B;return A},[])};m.without=function(B,A){var z=q.call(arguments,1);return m.filter(B,function(C){return !m.contains(z,C)})};m.unique=function(A,z){return m.reduce(A,function(B,D,C){if(0==C||(z===true?m.last(B)!=D:!m.contains(B,D))){B[B.length]=D}return B},[])};m.intersect=function(A){var z=q.call(arguments,1);return m.filter(m.unique(A),function(B){return m.every(z,function(C){return m.indexOf(C,B)>=0})})};m.indexOf=function(D,B,C){if(D==null){return -1}var A,z;if(C){A=m.sortedIndex(D,B);return D[A]===B?A:-1}if(r&&D.indexOf===r){return D.indexOf(B)}for(A=0,z=D.length;A<z;A++){if(D[A]===B){return A}}return -1};m.lastIndexOf=function(B,A){if(B==null){return -1}if(f&&B.lastIndexOf===f){return B.lastIndexOf(A)}var z=B.length;while(z--){if(B[z]===A){return z}}return -1};m.bind=function(B,A){var z=Array.prototype.slice.call(arguments,2);return function(){A=A||(this==m.global?false:this);var C=z.concat(Array.prototype.slice.call(arguments));if(typeof(B)=="string"&&A[B]){A[B].apply(A,C)}else{if(m.isFunction(B)){return B.apply(A,C)}else{m.log("not function",B)}}}};m.methodize=function(A,z){if(z){return function(){return A.apply(null,[this[z]].concat([].slice.call(arguments)))}}return function(){return A.apply(null,[this].concat([].slice.call(arguments)))}};m.extend=function(z,C){var A=function(){};A.prototype=C.prototype;var B=z.prototype;z.prototype=new A();z.$super=C;m.mix(z.prototype,B,true);return z};m.create=k||function(B,z){var A=function(C){if(C){m.mix(this,C,true)}};A.prototype=B;return new A(z)};m.delay=function(A,B){var z=q.call(arguments,2);return setTimeout(function(){return A.apply(A,z)},B)};m.defer=function(z){return m.delay.apply(m,[z,1].concat(q.call(arguments,1)))};m.keys=w||function(B){if(B!==Object(B)){throw new TypeError("Invalid object")}var A=[];for(var z in B){if(p.call(B,z)){A[A.length]=z}}return A};m.values=function(z){return m.map(z,m.identity)};m.methods=function(z){return m.filter(m.keys(z),function(A){return m.isFunction(z[A])}).sort()};m.mix=function(z){m.forEach(q.call(arguments,1),function(A){for(var B in A){if(A[B]!==void 0){z[B]=A[B]}}});return z};m.clone=function(z){return m.isArray(z)?z.slice():m.mix({},z)};m.isEmpty=function(A){if(m.isArray(A)||m.isString(A)){return A.length===0}for(var z in A){if(p.call(A,z)){return false}}return true};m.isElement=function(z){return !!(z&&z.nodeType==1)};m.isArray=c||function(z){return s.call(z)==="[object Array]"};m.isFunction=function(z){return !!(z&&z.constructor&&z.call&&z.apply)};if(s.call(arguments)=="[object Arguments]"){m.isArguments=function(z){return s.call(z)=="[object Arguments]"}}else{m.isArguments=function(z){return !!(z&&p.call(z,"callee"))}}m.isString=function(z){return !!(z===""||(z&&z.charCodeAt&&z.substr))};m.isNumber=function(z){return !!(z===0||(z&&z.toExponential&&z.toFixed))};m.isNaN=function(z){return z!==z};m.isBoolean=function(z){return z===true||z===false};m.isDate=function(z){return !!(z&&z.getTimezoneOffset&&z.setUTCFullYear)};m.isRegExp=function(z){return !!(z&&z.test&&z.exec&&(z.ignoreCase||z.ignoreCase===false))};m.isNull=function(z){return z===null};m.isUndefined=function(z){return z===void 0};m.trim=function(z){return z.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")};m.byteLen=function(z){return z.replace(/[^\x00-\xff]/g,"--").length};m.subByte=function(B,z,A){if(m.byteLen(B)<=z){return B}A=A||"";z-=m.byteLen(A);return B.substr(0,z).replace(/([^\x00-\xff])/g,"$1 ").substr(0,z).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1")+A};m.encode4JS=function(z){return z.replace(/\\/g,"\\u005C").replace(/"/g,"\\u0022").replace(/'/g,"\\u0027").replace(/\//g,"\\u002F").replace(/\r/g,"\\u000A").replace(/\n/g,"\\u000D").replace(/\t/g,"\\u0009")};m.encode4HTTP=function(z){return z.replace(/[\u0000-\u0020\u0080-\u00ff\s"'#\/\|\\%<>\[\]\{\}\^~;\?\:@=&]/,function(A){return encodeURIComponent(A)})};m.encode4Html=function(z){return z.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};m.encode4HtmlValue=function(z){return m.encode4Html(z).replace(/"/g,"&quot;").replace(/'/g,"&#039;")};m.stripTags=function(z){return z.replace(/<[^>]*>/gi,"")};m.formatDate=function(C,A){A=A||"yyyy-MM-dd";var D=C.getFullYear();var B={M:C.getMonth()+1,d:C.getDate(),h:C.getHours(),m:C.getMinutes(),s:C.getSeconds()};A=A.replace(/(y+)/ig,function(G,F){var E=Math.min(4,F.length);return(D+"").substr(4-E)});for(var z in B){A=A.replace(new RegExp("("+z+"+)","g"),function(F,E){return(B[z]<10&&E.length>1)?"0"+B[z]:B[z]})}return A};m.identity=function(z){return z};var j=0;m.uniqueId=function(z){var A=j++;return z?z+A:A}})(K);(function(b,d){var a;var c=function(){var m=["touchstart","touchmove","touchend"],f=true;var n=document.createElement("div");for(var l=0,h=m.length;l<h;l++){var g="on"+m[l];var k=(g in n);if(!k){n.setAttribute(g,"return;");k=typeof n[g]=="function"}if(!k){f=false;break}}return f};b.isSupportTouch=function(){if(a===d){a=c()}return a}})(K);K.Browser=(function(){var a=window.navigator,c=a.userAgent.toLowerCase(),d=/(msie|webkit|gecko|presto|opera|safari|firefox|chrome|maxthon)[ \/]([\d.]+)/ig,f={platform:a.platform};c.replace(d,function(i,g,j){var h=g.toLowerCase();f[h]=j});if(f.opera){c.replace(/opera.*version\/([\d.]+)/,function(h,g){f.opera=g})}if(f.msie){f.ie=f.msie;var b=parseInt(f.msie,10);f["ie"+b]=true}if(f.safari&&f.chrome){f.safari=false}return f}());if(K.Browser.ie){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}function onDetectFocus(){K.windowFocused=true}function onDetectBlur(){K.windowFocused=false}K.windowFocused=true;if(K.Browser.ie){document.attachEvent("onfocusin",onDetectFocus);document.attachEvent("onfocusout",onDetectBlur)}else{window.addEventListener("focus",onDetectFocus,false);window.addEventListener("blur",onDetectBlur,false)}(function(a){var b=function(){this.__callbacks__={}};a.mix(b.prototype,{on:function(d,g,f){if(f){g=a.bind(g,f)}var c=this.__callbacks__[d];if(c&&c.fired===true){g.apply(f,c.args);return}this.__callbacks__[d]=this.__callbacks__[d]||[];this.__callbacks__[d].push(g);return[d,g]},un:function(f){var c=f[0];var g=f[1];if(c in this.__callbacks__){var d=this.__callbacks__[c];a.forEach(d,function(h,j){if(g==h){d[j]=null}})}},once:function(c,h,d){var f=this;var g=this.on(c,function(){h.apply(d,arguments);f.un(g)})},fire:function(d){if(d in this.__callbacks__){var f=this.__callbacks__[d];var c=Array.prototype.slice.call(arguments,1);a.forEach(f,function(h,g){if(typeof(h)!="function"){return null}return h.apply(null,c)})}},fireReady:function(d){var f=this.__callbacks__[d];if(!f){f=this.__callbacks__[d]=[]}var c=Array.prototype.slice.call(arguments,1);a.forEach(f,function(h,g){if(typeof(h)!="function"){return null}return h.apply(null,c)});f.fired=true;f.args=c}});a.Pubsub=b;a.mix(a,(new b()))})(K);(function(b,h,g){var a={};var f={};function d(l,k,j){if(b.indexOf(k,l)>=0){throw new Error("Module:"+l+" could't depends on itself!")}this.id=l;this.dependancy=k;this.factory=j}function i(l,k,j){if(arguments.length<2){throw new Error("module has invalid parameters")}if(!b.isString(l)){throw new Error("module must have a ID")}if(b.isFunction(k)){j=k;k=[]}else{if(!b.isArray(k)){var m=k;j=function(){return m};k=[]}}if(a[l]){b.fire("haibei:resource:conflict");return}var p=b.unique(k),n=d.getDependancy(p);d.wait(n,function(){var q=new d(l,k,j);a[l]=q;try{delete f[l]}catch(r){}b.fire("Module:"+l+":Ready")})}d.createRequire=function(l,k){function j(p,n){if(!n&&b.indexOf(l,p)==-1){throw new Error(p+" counld't be required in "+k+", as you not declared to depend it ")}var m=a[p];if(!m){return null}if(!m.exports){c(m)}return m.exports}j.async=function(n,r,p){n=b.isString(n)?[n]:n;var m=b.unique(n);var q=d.getDependancy(m);d.load(q);d.wait(q,function(){var u=[];for(var s=0,t=n.length;s<t;s++){u.push(j(n[s],true))}r.apply(p||g,u)})};return j};d.getDependancy=function(j){return h.getDependancy(j)};d.load=function(j){j=b.isString(j)?[j]:j;b.forEach(j,function(k){h.loadModule(k)})};d.defined=function(){return a};d.waiting=function(){return b.keys(f)};d.check=function(j,k){j=b.trim(j);if(j.length==0||a[j]){k&&k()}else{f[j]=true;b.on("Module:"+j+":Ready",k)}};d.wait=function(k,l){k=[].concat(k);if(k.length>0){var j=k.shift();d.check(j,function(){d.wait(k,l)})}else{l&&l()}};function c(l){var j=l.factory,k;if(b.isFunction(j)){l.exports={};k=j(d.createRequire(l.dependancy,l.id),l.exports,l);if(k){l.exports=k}}else{if(j!==undefined){l.exports=j}}}g.define=b.define=i;g.Module=b.Module=d})(K,K.Resource,this);(function(p,a){var c={};var k={};var n="http://js.mafengwo.net/";var s=/\.js$/i;var r={};var f={};var l=[];var b=[];var g;a.addResourceMap=function(t){p.mix(c,t)};a.getResourceMap=function(t){return c[t]};a.addResourceDepends=function(t){p.mix(k,t)};a.setBasePath=function(t){n=t};a.getDependancy=function(v,u){var t=[];v=p.isString(v)?[v]:v;u=u||[];p.forEach(v,function(w){w=w.replace(s,"");u=u.concat(t);if(p.indexOf(u,w)==-1){t.unshift(w)}var y=k[w+".js"];if(!y){return}var x=a.getDependancy(y,u);if(x.length){t.unshift.apply(t,x)}});return t};var h=/^\/+|\/+$/ig;a.loadModule=function(t){t=t.replace(h,"");if(!s.test(t)){t+=".js"}var u=c[t];if(u){a.loadJS(n+u)}};a.canonicalURI=function(t){if(/^\/\/\/?/.test(t)){t=location.protocol+t}return t};var d=function(u){var x=l,w,v;for(v=0;v<x.length;v++){w=x[v];for(var t=0;t<w.resources.length;t++){if(u==w.resources[t]){w.resources.splice(t,1);t--}}if(!w.resources.length){w.callback&&w.callback();x.splice(v--,1)}}};var i=function(){var A=document.styleSheets,x=A.length,u=b;while(x--){var z=A[x],y=false;if(!p.Browser.firefox){y=true}else{try{if(z.cssRules){y=true}}catch(w){if(w.name==="SecurityError"||w.name==="NS_ERROR_DOM_SECURITY_ERR"){y=true}}}if(y){var t=z.ownerNode||z.owningElement,v=u.length;if(t){while(v--){if(t==u[v]){d(u[v]["data-href"]);u.splice(v,1)}}}}}if(!u.length){clearInterval(g);g=null}};var q=function(v,w){if(w){l.push({resources:v,callback:w})}for(var u in v){var t=document.createElement("script");var w=function(){t.onload=t.onerror=t.onreadystatechange=null;d(v[u])};p.mix(t,{type:"text/javascript",src:v[u],async:true});t.onload=t.onerror=w;t.onreadystatechange=function(){var x=this.readyState;if(x=="complete"||x=="loaded"){w()}};document.getElementsByTagName("head")[0].appendChild(t)}};var j=function(v,w){if(w){l.push({resources:v,callback:w})}for(var t in v){var u=document.createElement("link");p.mix(u,{type:"text/css",rel:"stylesheet",href:v[t],"data-href":v[t]});document.getElementsByTagName("head")[0].appendChild(u);if(u.attachEvent){var w=function(){d(v[t])};u.onload=w}else{b.push(u);if(!g){g=setInterval(i,20)}}}};var m=function(x,z){var y={},u=[],w=[];x=p.isArray(x)?x:[x];for(var v=0,t=x.length;v<t;v++){if(~x[v].indexOf(".css")){u.push(x[v])}else{w.push(x[v])}}$.get("/ajax/ajax_fetch_cssjs.php",{css_list:u,js_list:w},function(A){if("css_list" in A){j(A.css_list,function(){if("js_list" in A){q(A.js_list,z)}else{if(z){z()}}})}else{if("js_list" in A){q(A.js_list,z)}}},"json")};a.loadJS=function(t,u){m(t,u)};a.loadCSS=function(t,u){m(t,u)};a.loadIMG=function(u,v){var t=new Image();v=typeof v==="function"?v:function(){};t.onload=function(){t.onload=null;v.call(null,t)};if(t.readyState=="complete"){v.call(null,t)}t.src=u}})(K,K.Resource);(function(d){var f=false;var c=false;d.ready=function(j){if(f){j()}else{d.on("Onload:DomContentLoaded",j)}};d.load=function(j){if(c){j()}else{d.on("Onload:Loaded",j)}};var i=function(){if(!f){f=true;d.fire("Onload:DomContentLoaded")}};var h=function(){if(!c){c=true;d.fire("Onload:Loaded")}};var b;if(document.addEventListener){b=function(){document.removeEventListener("DOMContentLoaded",b,false);i()}}else{if(document.attachEvent){b=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",b);i()}}}}var a=function(){if(f){return}try{document.documentElement.doScroll("left")}catch(j){setTimeout(a,1);return}document.detachEvent("onreadystatechange",b);i()};var g=function(){var l=d.global,j=l.document,n=function(){if(!f){f=true;i()}h()};if(j.readyState=="complete"){setTimeout(i,0);return}if(j.addEventListener){j.addEventListener("DOMContentLoaded",b,false);l.addEventListener("load",n,false)}else{if(j.attachEvent){j.attachEvent("onreadystatechange",b);l.attachEvent("onload",n);var k=false;try{k=l.frameElement==null}catch(m){}if(j.documentElement.doScroll&&k){a()}}}};g()})(K);(function(k,h){var n="require getContainer".split(/\s+/ig);var f={};function b(r,p,q){if(f[r]){k.fire("haibei:resource:conflict");throw new Error("App:"+r+" has defined");return}f[r]=this;this.id=r;this.requiredModList=[].concat(p);this.execBeforeDomready=q}k.mix(b.prototype,{define:function(q){var p=k.unique(this.requiredModList),t=h.getDependancy(p),s=this,r=function(){k.fire("App:"+s.id+":Ready",s)};h.wait(t,function(){var v=h.createRequire(p,s.id);if(k.isFunction(q)){q=q.call({},v)}if(!q){return}var w,x,z;for(w=0,x=n.length;w<x;w++){z=n[w];if(q[z]){throw new Error(z+" is a reserve method or property")}}q.require=v;var y=q.require("core/jQuery");s.__jQuery__=y;if(q.container&&y(q.container).length==0){return}var u=a(q,y);if(q.events){g(q,y,u)}if(k.isFunction(q.main)){if(s.execBeforeDomready){q.main();r()}else{k.ready(function(){q.main();r()})}}else{r()}})}});function a(q,r){var p;if(!q.container){q.container=document.body}p=r(q.container);if(!p.length||p.length>1){p=r(document.body)}q.container=p;q.getContainer=function(){return p};return p}var i=/^([\w\.]+)(?:\s+(.*))?$/;function g(s,r,p){var q=s.events;k.map(q,function(w,u){var v=u.match(i),x=v[1],t=v[2],y=k.bind(s[w],s);if(!t){p.bind(x,y)}else{p.delegate(t,x,k.bind(s[w],s))}})}var m=0;function j(){return"__APP__"+(m++)}function d(p){var q=p[0];if(q&&k.isString(q)){if(k.last(q.split(/\//ig)).charAt(0)!="A"){throw new Error(q+" is a invalid name for a App")}}else{q=j()}return q}function c(p){return k.detect(p,function(q){return k.isArray(q)})||[]}function l(p){var q=k.last(p);return k.isBoolean(q)?q:false}k.App=function(r,q,p){return new b(d(arguments),c(arguments),l(arguments))};k.App.get=function(p){return f[p]||null}})(K,K.Module);(function(b){var d=b.mix,c=b.indexOf;var a=b.CustEvent=function(h,g,f){this.target=h;this.type=g;d(this,f||{})};d(a.prototype,{target:null,currentTarget:null,type:null,returnValue:undefined,preventDefault:function(){this.returnValue=false}});b.CustEventTargetH={on:function(h,i,g){var f=(h.__custListeners&&h.__custListeners[i])||b.error("unknown event type",TypeError);if(c(f,g)>-1){return false}f.push(g);return true},once:function(i,j,h){var f=(i.__custListeners&&i.__custListeners[j])||b.error("unknown event type",TypeError);var g=$.proxy(function(k){h.call(i,k);b.CustEventTargetH.un(i,j,g)},this);b.CustEventTargetH.on(i,j,g);return true},un:function(i,j,h){var g=(i.__custListeners&&i.__custListeners[j])||b.error("unknown event type",TypeError);if(h){var f=c(g,h);if(f<0){return false}g.splice(f,1)}else{g.length=0}return true},fire:function(m,n,g){if(n instanceof a){var f=d(n,g);n=n.type}else{f=new a(m,n,g)}var h=(m.__custListeners&&m.__custListeners[n])||b.error("unknown event type",TypeError);if(n!="*"){h=h.concat(m.__custListeners["*"]||[])}f.returnValue=undefined;f.currentTarget=m;var l=f.currentTarget;if(l&&l["on"+f.type]){var k=l["on"+f.type].call(l,f)}for(var j=0;j<h.length;j++){h[j].call(l,f)}return f.returnValue!==false||(k===false&&f.returnValue===undefined)},createEvents:function(j,g){g=g||[];if(typeof g=="string"){g=g.split(",")}var h=j.__custListeners;if(!h){h=j.__custListeners={}}for(var f=0;f<g.length;f++){h[g[f]]=h[g[f]]||[]}h["*"]=h["*"]||[];return j}}}(K));(function(b){var a=function(){};var c={methodize:function(h,d){var f=new a();for(var g in h){if(typeof h[g]=="function"&&!/^_/.test(g)){f[g]=b.methodize(h[g],d)}}return f}};b.Helper=c}(K));(function(a){var c=a.mix;var d=a.CustEventTarget=function(){this.__custListeners={}};var b=a.Helper.methodize(a.CustEventTargetH,null,{on:"operator",un:"operator"});c(d.prototype,b);a.CustEvent.createEvents=d.createEvents=function(g,f){a.CustEventTargetH.createEvents(g,f);return c(g,d.prototype)}}(K));(function(a){a.Env={}})(K);(function(a){a.onbeforeunload=function(c){if(!c){return}if(typeof window.onbeforeunload=="function"){var b=window.onbeforeunload;window.onbeforeunload=function(){var d=c.apply(null,arguments);var f=b.apply(null,arguments);return f?f:d}}else{window.onbeforeunload=c}}})(K);(function(a){a.Performance={timing:{}};var b=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;if(b&&b.timing){a.Performance.timing=b.timing}else{a.Performance.timing.responseStart=a.global.pageStart;a.ready(function(){a.Performance.timing.domContentLoadedEventStart=(new Date()).getTime()});a.load(function(){a.Performance.timing.loadEventStart=(new Date()).getTime()})}})(K);(function(f){var h=function(m,l){l=l.toUpperCase();while(m&&m.nodeName!=l){m=m.parentNode}return m};var d=function(m,l){if("hasAttribute" in m){return m.getAttribute(l)}else{if("getAttributeNode" in m){var n=m.getAttributeNode(l);if(n){return n.value}}}return undefined};var k=function(l){if(!("App" in f)||!f.App.get(l)){f.log(l,"not ready");return false}return true};var i=function(l){var m=d(l,"data-app");if(m&&m.length&&!k(m)){return m}return false};var j=function(l,n,r){var s=i(l),q,m,p;if(s){f.once("App:"+s+":Ready",function(t){t.__jQuery__(r||l)[n]()});return false}else{if(n=="click"){q=l.getAttribute("data-ajax");p=l.getAttribute("data-op-log");if(p&&p.length){Request.apiLog(l)}if(q&&q.length){m=l.getAttribute("data-ajax-url")||l.href;switch(q){case"request-post":case"request":Request.load(m,l);break;case"dialog-post":case"dialog":Request.loadDialog(m,l);break;default:return}return false}}}return};var a=function(m){var l=h(m,"FORM")||m;return j(l,"submit")};var g=function(m){var l=h(m,"A")||m;return j(l,"click",m)};var b=(function(){var m=document.createElement("div");var l=("onsubmit" in m);if(!l){m.setAttribute("onsubmit","return;");l=typeof m.onsubmit==="function"}return l})();var c=function(){var l=f.global.document,m=l.documentElement;var n=null;m.onclick=function(t){t=t||window.event;n=t.target||t.srcElement;if(!b){var s=n.type;if(s=="submit"||s=="image"){return a(n)}}var p=n.href;if(p&&!/#$/.test(p)){var r=(t.which&&t.which!=1),q=(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey);if(r||q){return}}return g(n)};if(!b){m.onkeypress=function(q){q=q||window.event;n=q.target||q.srcElement;var p=n.type;if((p=="text"||p=="password")&&q.keyCode==13){return a(n)}return}}if(b){m.onsubmit=function(q){q=q||window.event;var p=q.target||q.srcElement;return a(p)}}};c()})(K);K.on("login:required",$.proxy(function(){show_login()},this));K.on("hb:incr",$.proxy(function(a){var b=parseInt(a.html(),10);a.UpNum("+1",function(){a.html(b+1)})},this));K.on("hb:decr",$.proxy(function(a){var b=parseInt(a.html(),10);a.UpNum("-1",function(){a.html(b-1)})},this));function showPrompt(a){$.prompt.close();var b={};var c={buttons:b};$.prompt(a,c);$("div.jqiclose").hide();$("div.jqifade").css("background-color","#000")}$(function(){$("body").delegate("._j_add_friend","click",function(a){a.preventDefault();var c=$(this);var b=parseInt(c.data("to_uid"),10);if(b==0){return false}$.post("/ajax/addfriend.php",{action:"addfriend",touid:b,_need_cstk:true},function(f){if(f.ret=="1"){if(c.hasClass("_j_remove")){c.remove()}else{c.replaceWith(f.html)}}else{majaxerr(f)}},"json")}).delegate("._j_write_address","click",function(a){a.preventDefault();$.prompt.close();if(window.__mfw_uid===0){show_login();return false}K.Resource.loadCSS("http://css.mafengwo.net/css/msg_li.css");$.post("/ajax/ajax_user_ext_add.php",{action:"get_float_address"},function(b){if(b.ret==1){$.prompt(b.html,{buttons:{"":true},callback:function(d,c,h){if(d){var g={action:"address",true_name:$("#true_name",$(c)).val(),mobile:$("#mobile",$(c)).val(),zip_code:$("#zip_code",$(c)).val(),address:$("#address",$(c)).val()};$.post("/ajax/ajax_user_ext_add.php",g,function(f){if(f.ret==1){mTinyAlert("")}else{majaxerr(f)}},"json")}}})}else{majaxerr(b)}},"json")})});var Cache={};var Request=function(a){if(a){this.setURI(a)}this._method="GET";this._dataType="json";this._data={};this._options={};this._xhr=null};K.mix(Request,{load:function(c,d){var a=$(d),f=a.attr("data-ajax")=="request-post"?"POST":"GET";var b=a.find("._j_loading_elem");if(!b.length){b=a}if(b.hasClass("loading")){return}new Request(c).setMethod(f).setRelativeTo(d).setLoadingElement(b).send()},loadDialog:function(c,d){var a=$(d),f=a.attr("data-ajax")=="dialog-post"?"POST":"GET";var b=a.find("._j_loading_elem");if(!b.length){b=a}if(b.hasClass("loading")){return}new Request(c).setMethod(f).setRelativeTo(d).setLoadingElement(b).send().setHandler(function(g){if(g.html.length>0){var h=g.params;h=$.parseJSON(h);$.prompt.close();$.prompt(g.html,h);$("._j_prompt_close").click(function(i){i.preventDefault();$.prompt.close()});K.fire("after:dialog:show",h)}})},apiLog:function(d){var b=$(d),f=b.attr("data-type"),a=b.attr("data-mk");var c="/ajax/ajax_op_log_api.php?type="+encodeURIComponent(f)+"&mk="+encodeURIComponent(a);new Request(c).setMethod("GET").send()},invalidate:function(a){return ResponseCache.invalidate(Request.normalizeURI(a))},normalizeURI:function(a,d){var b=new URI(a);var f={};var c=K.mix({},d,b.getQueryParams());K.forEach(c,function(h,g){if(!/^_/.test(g)){f[g]=h}});b.setQueryParams(f);return b.setProtocol(null).setDomain(null).setFragment(null).toString()}});K.mix(Request.prototype,{setMethod:function(a){this._method=a;return this},getMethod:function(){return this._method},setDataType:function(a){this._dataType=a;return this},getDataType:function(){return this._dataType},setData:function(a){this._data=a;return this},getData:function(){return this._data},setURI:function(a){this._uri=a;return this},getURI:function(){return this._uri},setHandler:function(a){if(K.isFunction(a)){this._handler=a}return this},getHandler:function(){return this._handler},setErrorHandler:function(a){this._errorHandler=a;return this},getErrorHandler:function(){return this._errorHandler},setRelativeTo:function(a){this._relativeTo=a;return this},setFinallyHandler:function(a){this._finallyHandler=a;return this},getFinallyHandler:function(){return this._finallyHandler},getRelativeTo:function(){return this._relativeTo},setLoadingElement:function(a){this._loadingElement=a;return this},getLoadingElement:function(a){return this._loadingElement},setOption:function(a,b){this._options[a]=b;return this},getOption:function(a){return this._options[a]},send:function(){if(this.getMethod()=="GET"){var a=ResponseCache.get(Request.normalizeURI(this.getURI(),this.getData()));if(a){this._invokeResponseHandler(a);return}}this._updateLoadingElement(true);var b=this;this._xhr=$.ajax({type:this._method,url:this._uri,data:this._data,dataType:this._dataType,success:function(d,c,f){if(f.status==204){b._invokeResponseHandler({})}else{if(!d.error){b._invokeResponseHandler(d)}else{b._invokeErrorHandler(d)}}},error:function(c){b._invokeErrorHandler({error:c})},complete:function(){b._updateLoadingElement(false)}});return this},abort:function(){this._xhr&&this._xhr.abort();return this}});K.mix(Request.prototype,{_updateLoadingElement:function(a){if(this._loadingElement){if(a){$(this._loadingElement).addClass("loading")}else{$(this._loadingElement).removeClass("loading")}}},_invokeResponseHandler:function(a){if("redirect" in a){window.location=a.redirect;return}if(this.getMethod()=="GET"&&a.cache){ResponseCache.set(Request.normalizeURI(this.getURI(),this.getData()),a,60000)}if(this.getOption("suppressEval")){this._loadResource(a.resource,function(){});return}if("resource" in a){this._loadResource(a.resource,K.bind(function(){this._dispatchResponse(a)},this))}else{this._dispatchResponse(a)}},_invokeErrorHandler:function(a){if(this.getOption("suppressEval")){return}if(a&&a.resource){this._loadResource(a.resource,K.bind(function(){this._dispatchErrorResponse(a)},this))}else{this._dispatchErrorResponse(a)}},_loadResource:function(c,d){var b=this;var a=function(){d();if("js" in c&&!K.isEmpty(c.js)){K.Resource.loadJS(c.js)}if("map" in c){if(c.map.depends){K.Resource.addResourceDepends(c.map.depends)}if(c.map.uris){K.Resource.addResourceMap(c.map.uris)}}if(!b.getOption("suppressEval")){if("onload" in c){K.forEach(c.onload,function(g){try{(new Function(g)).apply(b)}catch(f){K.log(g)}})}}};if("css" in c&&!K.isEmpty(c.css)){K.Resource.loadCSS(c.css,a)}else{a()}},_dispatchResponse:function(a){if(a.suppressHandler){return}if(this._handler){this._handler(a.payload,this)}if(this._finallyHandler){this._finallyHandler(this)}},_dispatchErrorResponse:function(a){if(a.suppressHandler){return}if(this._errorHandler){this._errorHandler(a.error,this)}if(this._finallyHandler){this._finallyHandler(this)}}});var now=function(){return new Date().getTime()};var ResponseCache={set:function(d,b,a){var c=this._getCacheKey(d);if(c){this._setCache(c,{uri:d,response:b,time:now(),expires:a});return true}return false},get:function(b){var a=this._getCacheKey(b);if(a){return this._getCache(a)}return false},invalidate:function(b){var a=this._getCacheKey(b);if(a){return delete this._cache[a]}return false},clear:function(){this._cache=[]},_getCacheKey:function(a){return a},_setCache:function(a,b){this._cache[a]=b},_getCache:function(a){if(a in this._cache){var b=this._cache[a];if(b.expires>0&&now()<=b.time+b.expires){return b.response}}return false},_cache:{}};var URI=function(c){this.setQueryParams({});if(c){var a=URI._uriPattern.exec(c);this.setProtocol(a[1]||undefined);this.setDomain(a[2]||undefined);this.setPort(a[3]||undefined);var g=a[4];var f=a[5];this.setFragment(a[6]||undefined);this.setPath(g.charAt(0)=="/"?g:"/"+g);if(f){var b={};var d;while((d=URI._queryPattern.exec(f))!=null){b[decodeURIComponent(d[1].replace(/\+/g," "))]=decodeURIComponent(d[2].replace(/\+/g," "))}this.setQueryParams(b)}}};K.mix(URI,{_uriPattern:/(?:([^:\/?#]+):)?(?:\/\/([^:\/?#]*)(?::(\d*))?)?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/,_queryPattern:/(?:^|&)([^&=]*)=?([^&]*)/g,_defaultQuerySerializer:function(b){var a=[];K.forEach(b,function(d,c){if(d!=null){a.push(encodeURIComponent(c)+(d?"="+encodeURIComponent(d):""))}});return a.join("&")}});K.mix(URI.prototype,{getProtocol:function(){return this._protocol},setProtocol:function(a){this._protocol=a;return this},getDomain:function(){return this._domain},setDomain:function(a){this._domain=a;return this},getPort:function(){return this._port},setPort:function(a){this._port=a;return this},getPath:function(a){return this._path},setPath:function(a){this._path=a;return this},getQueryParams:function(){return this._queryParams},addQueryParams:function(a){K.mix(this.getQueryParams(),a);return this},setQueryParams:function(a){this._queryParams=a;return this},setQueryParam:function(a,b){var c={};c[a]=b;return this.addQueryParams(c)},getFragment:function(){return this._fragment},setFragment:function(a){this._fragment=a;return this},getQuerySerializer:function(){return this._querySerializer},setQuerySerializer:function(a){this._querySerializer=a},_getQueryString:function(){var a=(this.getQuerySerializer()||URI._defaultQuerySerializer)(this.getQueryParams());return a?"?"+a:""},go:function(){var a=this.toString();(a&&(window.location=a))||window.location.reload(true)}});URI.prototype.toString=function(){var a="";if(this.getProtocol()){a+=this.getProtocol()+"://"}a+=this.getDomain()||"";a+=this.getPath()||(a?"/":"");a+=this._getQueryString();if(this.getFragment()){a+="#"+this.getFragment()}return a};
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
/*!
 * jQuery Mousewheel 3.1.12
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],j=Array.prototype.slice,k,b;if(c.event.fixHooks){for(var f=d.length;f;){c.event.fixHooks[d[--f]]=c.event.mouseHooks}}var g=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var n=l.length;n;){this.addEventListener(l[--n],m,false)}}else{this.onmousewheel=m}c.data(this,"mousewheel-line-height",g.getLineHeight(this));c.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var n=l.length;n;){this.removeEventListener(l[--n],m,false)}}else{this.onmousewheel=null}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(n){var i=c(n),p=i["offsetParent" in c.fn?"offsetParent":"parent"]();if(!p.length){p=c("body")}return parseInt(p.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(i){return c(i).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function m(i){var q=i||window.event,w=j.call(arguments,1),y=0,s=0,r=0,v=0,u=0,t=0;i=c.event.fix(q);i.type="mousewheel";if("detail" in q){r=q.detail*-1}if("wheelDelta" in q){r=q.wheelDelta}if("wheelDeltaY" in q){r=q.wheelDeltaY}if("wheelDeltaX" in q){s=q.wheelDeltaX*-1}if("axis" in q&&q.axis===q.HORIZONTAL_AXIS){s=r*-1;r=0}y=r===0?s:r;if("deltaY" in q){r=q.deltaY*-1;y=r}if("deltaX" in q){s=q.deltaX;if(r===0){y=s*-1}}if(r===0&&s===0){return}if(q.deltaMode===1){var x=c.data(this,"mousewheel-line-height");y*=x;r*=x;s*=x}else{if(q.deltaMode===2){var p=c.data(this,"mousewheel-page-height");y*=p;r*=p;s*=p}}v=Math.max(Math.abs(r),Math.abs(s));if(!b||v<b){b=v;if(a(q,v)){b/=40}}if(a(q,v)){y/=40;s/=40;r/=40}y=Math[y>=1?"floor":"ceil"](y/b);s=Math[s>=1?"floor":"ceil"](s/b);r=Math[r>=1?"floor":"ceil"](r/b);if(g.settings.normalizeOffset&&this.getBoundingClientRect){var n=this.getBoundingClientRect();u=i.clientX-n.left;t=i.clientY-n.top}i.deltaX=s;i.deltaY=r;i.deltaFactor=b;i.offsetX=u;i.offsetY=t;i.deltaMode=0;w.unshift(i,y,s,r);if(k){clearTimeout(k)}k=setTimeout(h,200);return(c.event.dispatch||c.event.handle).apply(this,w)}function h(){b=null}function a(n,i){return g.settings.adjustOldDeltas&&n.type==="mousewheel"&&i%120===0}}));if(window.M&&typeof window.M.define=="function"){window.M.define("jq-mousewheel",function(){return jQuery})}var allRules={phone:/^1[3-9]\d{9}$/,date:/^201[6-9]\-[0-1]\d{1}\-[0-3]\d{1}$/};function verify_data(b,a){var c=allRules[a];if(!c){return false}return c.test(b)}M.define("/js/sales/stock-v2",function(c,b,f){var a=c("/js/localdeals/rest");var h=function(j){this.attributeSelection={};this.sku={};this.dom=j;this.rangeBeginDate="";this.rangeEndDate="";this.num={};this.numRange={};this.attributes={};this.Interval=0;this.nextMonth=0};h.prototype={init:function(j){var k=this,l=this.dom;this.skuService=new i(j);$(l.btnAttributeValue).each(function(){var n=$(this).data("aId"),m=$(this).data("avId");if(!k.attributes[n]){k.attributes[n]=[]}k.attributes[n].push(m)})},bindEvent:function(){var j=this,l=this.dom,k=$("body");$(l.btnAttributeValue).on("click",function(){var p=$(this),n=p.data("aId"),m=p.data("avId");if(p.hasClass("disabled")||p.hasClass("on")){return false}j.selectAttribute(n,m);j.disableOthers(n,m);p.addClass("on").siblings("[data-a-id]").removeClass("on disabled")});$(l.rangeTextBegin).on("click",function(){$(l.rangeCalBegin).toggle();$(this).toggleClass("on");$(l.rangeCalEnd).hide();$(l.rangeTextEnd).removeClass("on")});$(l.rangeTextEnd).on("click",function(){$(l.rangeCalEnd).toggle();$(this).toggleClass("on");$(l.rangeCalBegin).hide();$(l.rangeTextBegin).removeClass("on");if(j.nextMonth!=0){$(l.rangeCalEnd).find('[data-number="'+j.nextMonth+'"]').trigger("click")}});k.on("click",l.rangeCalTab,function(){var m=$(this).data(l.rangeCalTabData);$(this).closest(l.rangeCalWrap).find(l.rangeCalPanel).hide().eq(m).show();$(this).addClass("on").siblings(l.rangeCalTab).removeClass("on")});k.on("click",l.rangeCalSelect,function(){var m=$(this).data(l.rangeCalSelectData);if($(this).data("disabled")){return false}if($(this).closest(l.rangeCalBegin).length){j.selectRangeBegin(m);j.totalData(moment(j.rangeBeginDate),moment(j.rangeEndDate));$(l.rangeTextBegin).removeClass("on").html(m+"<i></i>");$(l.rangeCalBegin).hide()}else{j.selectRangeEnd(m);j.totalData(moment(j.rangeBeginDate),moment(j.rangeEndDate));$(l.rangeTextEnd).removeClass("on").html(m+"<i></i>");$(l.rangeCalEnd).hide()}j.calNumRange();j.calTotalPrice()});k.on("click",l.numSelectBtn,function(){var n=$(this).data("id"),m=$(this).data("defId");if(!m){return false}if(!j.num.hasOwnProperty(m)){j.num[m]=1}if(n=="plus"){j.num[m]=j.num[m]+1}else{if(j.num[m]>0){j.num[m]=j.num[m]-1}}j.calNumRange();j.calTotalPrice()});$(l.bookingBtn).on("click",function(){var n=j.checkForBooking();if(n!==true){mAlert(n);return false}var p={num:j.num,stock_id:j.sku.id,begin_date:j.rangeBeginDate,end_date:j.rangeEndDate,room_num:0},m="/sales/booking.php?";m+=$.param(p);location.href=m});$(l.bookingBtnSide).on("click",function(){$("html, body").animate({scrollTop:0},300)})},totalData:function(k,j){if(j>k){this.Interval=Math.floor((j-k)/(24*3600*1000))+1;$(this.dom.rangeMinSelect).text(""+this.Interval+"")}},autoSelectAttribute:function(){var j=this.dom;$(j.btnAttribute).each(function(){var k=$(this);setTimeout(function(){k.find(j.btnAttributeValue).not(".disabled").eq(0).trigger("click")},0)})},renderCalendar:function(){var j=this.skuService.getData(this.sku.id),k=this;$(this.dom.rangeMinSelect).text(""+this.sku.range_min_length+"");$(this.dom.rangeCalBegin).html(j.html);$(this.dom.rangeCalEnd).html(j.html).find(this.dom.rangeCalSelect).each(function(){var l=$(this).data(k.dom.rangeCalSelectData);if(l<k.nearestEndDate){$(this).data("disabled",1).removeClass("have").find(".border, .pro").hide()}else{if($(this).data("disabled")){$(this).data("disabled",0).addClass("have").find(".border, .pro").show()}}});if(this.rangeBeginDate&&this.rangeEndDate){$(this.dom.rangeTextBegin).html(this.rangeBeginDate+"<i></i>");$(this.dom.rangeTextEnd).html(this.rangeEndDate+"<i></i>")}$(this.dom.rangeSelection).show()},renderNumSelect:function(){var j=this.skuService.getData(this.sku.id),l=j.def.b,k=this;$(this.dom.numSelect).hide();_.each(l,function(m){$("["+k.dom.numSelectAttr+"="+m.id+"]").show().find(k.dom.numInput).text(k.num[m.id])})},renderTotalPrice:function(){$(this.dom.flagTotalPrice).show();if(this.totalPrice>0){$(this.dom.textTotalPrice).text(this.totalPrice)}else{$(this.dom.textTotalPrice).text("--")}},selectAttribute:function(k,l){var j;this.attributeSelection[k]=l;j=this.skuService.findSku(this.attributeSelection);if(j&&j.id!=this.sku.id){this.targetedSku(j)}},disableOthers:function(j,k){var l=this.skuService.findAttributeValueIds(k),m=[];$("[data-a-id]").each(function(){var n=$(this),q=n.data("aId"),p=n.data("avId");if(q==j){return true}if(!_.contains(l,p)){if(n.hasClass("on")){n.removeClass("on");m.push(q)}n.addClass("disabled")}else{n.removeClass("disabled")}});window.setTimeout(function(){if(m.length){_.each(m,function(n){$('[data-a-id="'+n+'"]:not(.disabled)').eq(0).trigger("click")})}m=[]},0)},selectRangeBegin:function(j){this.rangeBeginDate=j;this.nearestEndDate=d.getRangeEnd(j,this.sku.range_min_length,true);var k=moment(this.nearestEndDate).year(),l=moment(this.nearestEndDate).month()+1;this.nextMonth=k+"-"+l;this.renderCalendar()},selectRangeEnd:function(j){this.rangeEndDate=j},setDefaultRange:function(){var k=this.skuService.getData(this.sku.id),m=k.calendar,l=k.data,j,n;_.some(m,function(p){j=_.find(p.days,function(q){var r=l[q.date];return q.date&&r&&(!r.is_unlimited&&r.remain||r.is_unlimited)});return j});if(j){n=d.getRangeEnd(j.date,this.sku.range_min_length,true)}if(j&&n){this.rangeBeginDate=j.date;this.rangeEndDate=n}},setDefaultNum:function(){var l=this.skuService.getData(this.sku.id),j=l.def.b,m={},k=this;_.each(j,function(n){if(k.num.hasOwnProperty(n.id)){m[n.id]=k.num[n.id]}else{m[n.id]=1}});this.num=m},targetedSku:function(k){var j=this;this.sku=k;if(!this.skuService.isCached(this.sku.id)){a.getMulti("/sales/stockv2",{type:"calendar",sku_id:this.sku.id},{},function(l){if(!l.errno){j.skuService.addCache(k.id,l.data.list);j.setDefaultNum();j.renderCalendar();j.calNumRange();j.calTotalPrice()}},"default")}else{j.setDefaultNum();j.renderCalendar();j.calNumRange();j.calTotalPrice()}},calTotalPrice:function(){var j=this.skuService.getData(this.sku.id),k=this;this.totalPrice=0;_.each(this.num,function(m,l){d.travel(k.rangeBeginDate,k.rangeEndDate,function(n,p){var q=new Decimal(j.data[p].list[l].price_sold);k.totalPrice=q.times(m).plus(k.totalPrice)})});this.renderTotalPrice()},calNumRange:function(){var j=this.skuService.getData(this.sku.id),k=this;_.each(this.num,function(n,m){var p=1,l=99;d.travel(k.rangeBeginDate,k.rangeEndDate,function(q,s){var r=j.data[s].list[m];if(!r.is_unlimited){l=l>r.remain?r.remain:l}});if(l===0){p=0}k.numRange[m]={min:p,max:l};if(n<p){k.num[m]=p}if(n>l){k.num[m]=l}});this.renderNumSelect()},checkForBooking:function(){if(!_.size(this.num)){return""}if(!this.rangeBeginDate){return""}if(!this.rangeEndDate){return""}if(this.totalPrice==0){return""}return true}};var i=function(j){if(j.length){var k=this;this.codeMap=_.indexBy(j,"code");this.attributeValueIds={};_.each(j,function(m){var l=m.code.split("|");k.attributeValueIds[m.code]=[];_.each(l,function(n){k.attributeValueIds[m.code].push(1*n.split(":")[1])})})}this.cache={}};i.prototype={findSku:function(j){var l=_.keys(j).sort(function(n,m){return n-m});var k=_.map(l,function(m){return m+":"+j[m]}).join("|");return this.codeMap[k]||false},findAttributeValueIds:function(k){var j=[];_.each(this.attributeValueIds,function(l){if(_.contains(l,k)){j=j.concat(l)}});return _.unique(j)},isCached:function(j){return this.cache.hasOwnProperty(j)},addCache:function(k,j){this.cache[k]=j},getData:function(j){return this.cache[j]}};var d={travel:function(l,n,j){var m=moment(l).clone().startOf("day"),k=moment(n).clone().startOf("day");while(m.diff(k)<=0){if(_.isFunction(j)){j(m,m.format("YYYY-MM-DD"))}m=m.add(1,"days")}},getRangeEnd:function(l,k,j){k=j?k-1:k;return moment(l).add(k,"day").format("YYYY-MM-DD")}};function g(j){return(parseFloat(j).toFixed(2))}f.exports=h});function MfwMapLoad(c,b,a){this.callback=c;this.timeout=(typeof(b)=="number"&&b>0)?b:5000;this.debug=a;this.cb_name="__google_map_loaded_stop_amap";this.timer=0;this._init()}MfwMapLoad.prototype._init=function(){var a=this;window[this.cb_name]=function(){a.log("google map load success");clearTimeout(a.timer);a.callback()}};MfwMapLoad.prototype.loadGoogleMap=function(){if(window.offlinemap){window[this.cb_name]();return}var a=document.createElement("script"),b=window.Env&&window.Env.GOOGLE_MAP_KEY||"AIzaSyD-Su0x_rPy1xehlMBcMyTqWkU49Bk53nQ";a.type="text/javascript";a.src=(location.protocol?location.protocol:"http:")+"//ditu.google.cn/maps/api/js?sensor=false&key="+b+"&libraries=geometry&language=zh-CN&callback="+this.cb_name;a.charset="utf-8";document.body.appendChild(a)};MfwMapLoad.prototype.autoLoadMap=function(){this.log("auto load map");var a=this;this.timer=setTimeout(function(){a.log("google map load timeout");a.loadAmap.apply(a,arguments)},this.timeout);this.loadGoogleMap()};MfwMapLoad.prototype.log=function(a){if(this.debug&&window.console&&window.console.log){window.console.log(a)}};MfwMapLoad.prototype.loadAmap=function(){var a=document.createElement("script");var b=this;a.type="text/javascript";a.src="http://api.amap.com/webapi/init?v=1.1";document.body.appendChild(a);if(document.all){a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){b.google2amap(window);b.log("load amap success");b.callback()}}}else{a.onload=function(){b.google2amap(window);b.log("load amap success");b.callback()}}};MfwMapLoad.prototype.google2amap=function(_G,CFG){if(_G.___G2A___){return}CFG=CFG||{silence:true};var _=function(o){return o._impl?o._impl:o};var INTERNAL=function(x){return"_"+x+"_"};var DEBUG=false,EMPTY_FN=function(){};_gprivate={maps:[],activeMap:null,version:0.1};_G.___G2A___=_gprivate;_G.google={};_G.google.maps=function(){};google.maps.MapTypeId={};google.maps.MapTypeId.ROADMAP="";google.maps.Animation={};google.maps.Animation.BOUNCE="";_gprivate.objs=[];_gprivate.updateProperties=function(){for(var i=0;i<_gprivate.objs.length;++i){_gprivate.objs[i]()}};function _registerUpdater(callback){if(callback&&typeof(callback)==="function"){_gprivate.objs.push(callback)}}function log(message){if(DEBUG&&_G.console&&_G.console.log){_G.console.log(message)}}var _$=DEBUG?log:EMPTY_FN;function Const(name,v,scope){(scope||_G)[name]=v}function Klass(name,fn,father,inherit){if(father&&father.length>0){if(father.splice){father=father[0]}Klass.f=father}if(typeof(fn)=="function"){var fun=fn.toString();_G.google.maps[name]=fn;Klass.c=eval("_G.google.maps."+name)}else{_G.google.maps[name]=fn;Klass.c=fn}Klass.c.__name__=name;if(inherit){Klass.c.prototype=new Klass.f()}_$("<class name='"+name+"'>");return Klass}function Typedef(name,type,scope){var t=(scope||_G.google.maps)[name]=type;return t}Klass.dummy=function(){for(var i=0;i<arguments.length;++i){var f=arguments[i];_$("  <method type='dummy' name='"+f+"' />");Klass.c.prototype[f]=EMPTY_FN}return Klass};Klass.same=function(){for(var i=0;i<arguments.length;++i){var f=arguments[i];_$("  <method type='same' name='"+f+"' />");(function(f){Klass.c.prototype[f]=function(){return this._impl[f].apply(this._impl,arguments)}})(f)}return Klass};Klass.alias=function(a,b){Klass.c.prototype[a]=Klass.c.prototype[b];return Klass};Klass.reimpl=function(name,fn){_$("  <method type='reimp' name='"+name+"' />");if(Klass.c.prototype[name]){Klass.c.prototype[INTERNAL(name)]=Klass.c.prototype[name]}Klass.c.prototype[name]=fn;return Klass};Klass.impl=function(name,fn){_$("  <method type='impl' name='"+name+"' />");Klass.c.prototype[name]=fn;return Klass};Klass.override=Klass.impl;Klass.noimpl=function(){for(var i=0;i<arguments.length;++i){var f=arguments[i];if(Klass.c.prototype[f]){log("! "+f+" has already been defined !");continue}_$("  <method type='noimpl' name='"+f+"' />");(function(f){Klass.c.prototype[f]=function(){if(!CFG.silence){throw Error(f+" is not implemented!")}}})(f)}return Klass};Klass.statik=function(name,v){_$("  <method type='static' name='"+name+"' />");if(Klass.c[name]){Klass.c[INTERNAL(name)]=Klass.c[name]}Klass.c[name]=v;return Klass};Klass.end=function(){_$("</class>")};GLog={write:log,writeUrl:log,writeHtml:log};Klass("LatLng",function(lat,lng){if(typeof(lng)==="string"){lng=parseFloat(lng)}if(typeof(lat)==="string"){lat=parseFloat(lat)}this._impl=new AMap.LngLat(lng,lat)},[AMap.LngLat]).impl("lat",function(){return this._impl.lat}).impl("lng",function(){return this._impl.lng}).same("toString").end();Klass("Map",function(e,opt){_formatMapOpt(opt);this._impl=new AMap.Map(e,opt);(function(amap){amap.plugin(["AMap.ToolBar"],function(){tool=new AMap.ToolBar({direction:false,ruler:true});amap.addControl(tool)})})(this._impl);_gprivate.maps.push(this);_gprivate.activeMap=this},[AMap.Map]).impl("setCenter",function(latlng){latlng=latlng._impl;this._impl.setCenter(latlng)}).end();function _formatMapOpt(opt){if(opt.center){opt.center=opt.center._impl}if(opt.mapTypeId){delete opt.mapTypeId}if(opt.zoom){opt.level=opt.zoom;delete opt.zoom}if(opt.minZoom){var minZoom=opt.minZoom>=3?opt.minZoom:3;delete opt.minZoom}else{var minZoom=3}if(opt.maxZoom){var maxZoom=opt.maxZoom<=18?opt.maxZoom:18;delete opt.maxZoom}else{var maxZoom=18}opt.zooms=[minZoom,maxZoom]}Klass("Marker",function(opt){_formatMarkerOpt(opt);this._impl=new AMap.Marker(opt)},[AMap.Marker]).impl("setMap",function(map){if(map){map._impl.addOverlays(this._impl)}else{_gprivate.activeMap._impl.removeOverlays(this._impl.id)}}).same("getPosition").noimpl("setAnimation").end();function _formatMarkerOpt(opt){if(opt.position){opt.position=opt.position._impl}if(opt.title){delete opt.title}if(typeof(opt.icon)=="object"){opt.icon=opt.icon._impl}else{if(opt.icon==undefined){opt.icon="http://api.amap.com/webapi/static/Images/marker_sprite.png"}}opt.offset=new AMap.Pixel(-16,-32)}Klass("MarkerImage",function(url,size,origin,anchor,scaledSize){var opt={size:new AMap.Size(32,34),imageOffset:new AMap.Pixel(0,0),image:url};this._impl=new AMap.Icon(opt)},[AMap.MarkerImage]).end();Klass("InfoWindow",function(opt){opt.autoMove=true;this._impl=new AMap.InfoWindow(opt)},[AMap.Pixel]).impl("getPosition",function(){var pos=this._impl.getPosition();return new google.maps.LatLng(pos.lat,pos.lng)}).impl("open",function(map,marker){this._impl.open(map._impl,marker._impl.getPosition())}).impl("close",function(){if(this._impl.getIsOpen()){this._impl.close()}}).end();Klass("event",function(opt){this._impl=_gprivate.activeMap._impl},[AMap.Map]).statik("addListener",function(obj,e,fn){_gprivate.activeMap._impl.bind(obj._impl,e,fn)}).end();Klass("Size",function(w,h){this._impl=new AMap.Size(w,h)},[AMap.Size]).end();Klass("Point",function(x,y){this._impl=new AMap.Pixel(x,y)},[AMap.Pixel]).end();Klass("KmlLayer",function(file,opt){},[]).noimpl("setMap").end()};if(window.M&&typeof window.M.define=="function"){window.M.define("/js/google2amap",function(){return MfwMapLoad})}function get_connect_share_js(f,i,g,d,c){var h="";if(f=="sina"){if("object"===typeof g){g=g.sina}if(g!=""){i=g.substr(0,140)}var b="http://service.weibo.com/share/share.php?appkey=82015185&title="+encodeURIComponent(i)+"&pic="+encodeURIComponent(c)+"&url="+encodeURIComponent(d)+"&ralateUid=1730714982";h="window.open('"+b+"','_blank','scrollbars=no,width=600,height=480,left=75,top=20,status=no,resizable=yes');"}else{if(f=="renren"||f=="xiaonei"){if("object"===typeof i){i=i.renren}if("object"===typeof g){g=g.renren}var a={resourceUrl:d,pic:c,title:i,description:g};shareClick(a)}else{if(f=="qzone"||f=="qq"){if("object"===typeof i){i=i.qq}if("object"===typeof g){g=g.qq}h="window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+encodeURIComponent(i)+"&summary="+encodeURIComponent(g)+"&pics="+encodeURIComponent(c)+"&site="+encodeURIComponent("")+"&url="+encodeURIComponent(d)+"','_blank','scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes');"}else{return false}}}return h}function shareClick(a){rrShareOnclick(a)}var o=$({});$.subscribe=function(){o.bind.apply(o,arguments)};$.unsubscribe=function(){o.unbind.apply(o,arguments)};$.publish=function(){o.trigger.apply(o,arguments)};var cookieHandler={key:"_YWF_BROWSE_HIST_",get:function(){var cookieStr=$.cookie(cookieHandler.key),cookieArr;if(cookieStr){cookieArr=eval("("+cookieStr+")");return cookieArr}return false},set:function(k,h){var g=cookieHandler.get()||[],f=-1,a="";for(var c=0;c<g.length;c++){var d=g[c];if(k==d.id){f=c;break}}if(g.length>0){if(f>=0){Array.prototype.splice.call(g,f,1)}else{if(g.length==3){Array.prototype.shift.call(g)}}}Array.prototype.push.call(g,{id:k,title:h});for(var b=0;b<g.length;b++){var d=g[b];g[b]='{"id":"'+d.id+'","title":"'+d.title+'"}'}a="["+g.join(",")+"]";$.cookie(cookieHandler.key,a)},assemble:function(){var c=cookieHandler.get(),b="";for(var a=0;a<c.length;a++){var d=c[a]["title"].length>12?c[a]["title"].substr(0,12)+"...":c[a]["title"];b+='<li><a title="'+c[a]["title"]+'" target="_blank" href="/sales/'+c[a]["id"]+'.html">'+d+"</a></li>"}return b},clear:function(){$.cookie(cookieHandler.key,null)}};function share_weibo(f,d,c,b){var a="http://service.weibo.com/share/share.php?title="+encodeURIComponent(f)+"&pic="+encodeURIComponent(c)+"&url="+encodeURIComponent(b)+"&ralateUid=3120321513&rnd=1393998152805";window.open(a,"_blank","scrollbars=no,width=600,height=480,left=75,top=20,status=no,resizable=yes")}var Timer=function(b,a){this.dom=b;this.target=a};Timer.fn=Timer.prototype;Timer.fn.zero=function(a){var a=parseInt(a,10);if(a>0){if(a<=9){a="0"+a}return String(a)}else{return"00"}};Timer.fn.start=function(c){var b=(new Date()).getTime();var a=this;$.getJSON("/sales/ajax.php",{act:"GetTime"},function(f){if(f.ret==1){var h=(new Date()).getTime();var d=parseInt(f.msg)+Math.floor(h-b);var g=h-d;a.target=a.target+g;setInterval(function(){var i=a.caculate.call(a);$.publish("change-time",i)},1000)}})};Timer.fn.caculate=function(){var b=new Date(),d=Math.round((this.target-b.getTime())/1000);var f={sec:"00",mini:"00",hour:"00",day:"00"};if(d>0){f.sec=this.zero(d%60);f.mini=Math.floor((d/60))>0?this.zero(Math.floor((d/60))%60):"00";var a=this.dom.day=="plus"?Math.floor((d/3600)):Math.floor((d/3600))%24;f.hour=Math.floor((d/3600))>0?this.zero(a):"00";f.day=Math.floor((d/86400))>0?this.zero(Math.floor((d/86400))%30):"00"}for(var c in f){var g=$(this.dom[c]);g.text(f[c])}return f};var YWFCollect=function(){};YWFCollect.fn=YWFCollect.prototype;YWFCollect.fn.collect=function(c,a){if(window.__mfw_uid===0){show_login();return}var b={act:"AddCollect",sales_id:c};$.post("/sales/ajax.php",b,function(d){if(a){a()}},"json")};var cc=new YWFCollect();$(function(){$(".extra-side>li>.es-icon").hover(function(){$(this).siblings(".es-txt").fadeIn()},function(){var a=$(this);window.shareTimer=setTimeout(function(){a.siblings(".es-txt").fadeOut()},300)}).closest(".extra-side").find(".es-backTop>.es-icon").bind("click",function(){$(window).scrollTop(0)});$("body").delegate(".extra-side>li>.es-txt","mouseenter",function(){clearTimeout(window.shareTimer)});$("body").delegate(".extra-side>li>.es-txt","mouseleave",function(){$(this).fadeOut()});$(".FeedBackBtn").hide();$("#btn_helper").bind("click",function(){if(parseInt($(this).data("state"))>0){$("#helper_info_tips, #popup_layer").fadeIn()}else{$("#helper_info, #popup_layer").fadeIn()}});$(".close-btn").bind("click",function(){$("#helper_info,#helper_info_tips, #popup_layer").fadeOut();$("#helper_form input:text").each(function(){$(this).placeholder({holderContent:$(this).data("ph"),holderColor:"#999999"})});$("#ipt_phone").data("valid",0);$("#tip_sending, #ipt_valid, #tip_success,#btn_prebook_success").hide();$("#btn_valid_phone,#btn_prebook").show()});$("body").delegate("#submit_helper","click",function(){if(window.__mfw_uid===0){show_login();return}var c=$(this),f=$("#ipt_name"),d=$("#ipt_email_1"),a=$("#ipt_phone");var b=new RegExp("^([A-Z0-9a-z_-])+@([a-z0-9A-Z_-])+((\\.([a-zA-Z])+){1,2})$");var g={};if(c.data("lock")){return}if($.trim(f.val()).length==0||f.val()==f.data("ph")){mTinyAlert("");return}if($.trim(d.val()).length==0||d.val()==d.data("ph")||!b.test($.trim(d.val()))){mTinyAlert("");return}if($.trim(a.val()).length==0||a.val()==a.data("ph")){mTinyAlert("");return}if(a.data("valid")!=2){mTinyAlert("");return}g.act="AddSalesUser";g.order_name=$.trim(f.val());g.order_phone=$.trim(a.val());g.order_email=$.trim(d.val());c.data("lock",true);$.post("/sales/ajax.php",g,function(h){if(h.ret==1){c.hide();$("#btn_prebook_success").show();setTimeout(function(){$(".close-btn").trigger("click");$("#btn_helper").data("state",1);$("#helper_info").remove()},1000)}mTinyAlert(h.msg)},"json")});$("body").delegate("#btn_valid_phone","click",function(){if(window.__mfw_uid===0){show_login();return}var b=$(this),a=$("#ipt_phone"),f=a.data("valid"),d=$("#ipt_valid"),c=$("#tip_sending"),h=$("#tip_success"),g={};if($.trim(a.val()).length!=11||isNaN($.trim(a.val()))){mTinyAlert("");return}if(!f){g.act="SendMobileCode";g.order_phone=$.trim(a.val());$.post("/sales/ajax.php",g,function(i){if(i.ret==1){a.data("valid",1);d.show();c.show()}else{mTinyAlert(i.msg)}},"json")}else{if(f==1){if(!$.trim(d.val()).length){mTinyAlert(" ");return}g.act="VerifyMobileCode";g.order_phone=$.trim(a.val());g.order_code=$.trim(d.val());$.post("/sales/ajax.php",g,function(i){if(i.ret==1){d.hide();c.hide();b.hide();a.data("valid",2);h.show()}else{mTinyAlert(i.msg)}},"json")}else{return}}});$("body").delegate("#ipt_phone","change",function(){var a=$(this),b=a.data("orignal");$("#tip_sending,#tip_success").hide();if(a.val()==b){a.data("valid",2);$("#btn_valid_phone").hide()}else{a.data("valid",0);$("#btn_valid_phone").show()}});$("#helper_form input:text").each(function(){$(this).placeholder({holderContent:$(this).data("ph"),holderColor:"#999999"})});$("body").delegate("[data-ywfstat]","click",function(){var b=$(this).data("ywfstat"),a=$(this).data("total");if(!b){return}$.get("/ajax/ajax_op_log_api.php?type=yiwofeng&mk="+encodeURIComponent("V7_"+b));if(a){$.get("/ajax/ajax_op_log_api.php?type=yiwofeng&mk="+encodeURIComponent("V7_"+a+""))}});$("#btn_share_wx").bind("click",function(){$("#popup_container2").show()});$(".close-btn").bind("click",function(){$(".popup-box").hide()})});(function(b){if(b.hasSalesTrackLog){return false}if(!Date.now){Date.now=function(){return new Date().getTime()}}var g=Date.now(),h=Date.now(),k=0,d=0,c=false;var i="hidden",l=0;if(i in document){document.addEventListener("visibilitychange",a)}else{if((i="mozHidden") in document){document.addEventListener("mozvisibilitychange",a)}else{if((i="webkitHidden") in document){document.addEventListener("webkitvisibilitychange",a)}else{if((i="msHidden") in document){document.addEventListener("msvisibilitychange",a)}else{if("onfocusin" in document){document.onfocusin=document.onfocusout=a}else{window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a}}}}}function a(p){var q="active",r="hide",n={focus:q,focusin:q,pageshow:q,blur:r,focusout:r,pagehide:r},m;p=p||window.event;if(p.type in n){m=n[p.type]}else{m=this[i]?"hide":"active"}f(m)}if(document[i]!==undefined){a({type:document[i]?"blur":"focus"})}$(window).on("beforeunload",function(){f("close")}).on("scroll",function(){clearTimeout(l);l=setTimeout(function(){f("scroll")},500)});$("html").on("click",function(){f("click")});function f(p){var q=j(g);var n=typeof window.Env&&typeof window.Env.uPageId?window.Env.uPageId:"";if(c){k=d+j(h)}if(p=="hide"||p=="close"){c=false;d=k}if(p=="active"||p=="open"){c=true;h=Date.now()}var m=$("<img>");m.attr("src","https://tongji.mafengwo.cn/sales/track_log.gif?eventName="+p+"&totalDuring="+q+"&activeDuring="+k+"&pageId="+n)}function j(m){return Math.floor((Date.now()-m)/1000)}f("open");b.hasSalesTrackLog=true})(window);